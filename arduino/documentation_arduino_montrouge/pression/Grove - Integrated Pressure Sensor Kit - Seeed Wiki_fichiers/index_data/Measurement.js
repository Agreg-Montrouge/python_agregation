!function(e){function t(t){for(var r,a,u=t[0],s=t[1],c=t[2],f=0,d=[];f<u.length;f++)a=u[f],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(l&&l(t);d.length;)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,u=1;u<n.length;u++){var s=n[u];0!==i[s]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={30:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var l=s;o.push([1067,1,0]),n()}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,u){var s,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(s=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=s):i&&(s=u?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),s)if(c.functional){c._injectStyles=s;var l=c.render;c.render=function(e,t){return s.call(t),l(e,t)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,s):[s]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a}));var r={isNotouch:"is-notouch",isTouch:"is-touch",isOpened:"is-opened",isActive:"is-active",isSelected:"is-selected",isError:"is-error"},i=(window,function(e){return"function"==typeof e}),o={tl:"top-left",tr:"top-right",bl:"bottom-left",br:"bottom-right"},a={set:function(e){var t=e.id,n=e.component;window.__afsComponents||(window.__afsComponents={}),window.__afsComponents[t]=n},get:function(e){return window.__afsComponents&&window.__afsComponents[e]},delete:function(e){!window.__afsComponents||window.__afsComponents&&!window.__afsComponents[e]||delete window.__afsComponents[e]}}},10:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade","enter-class":"afs-context-menu_enter","leave-to-class":"afs-context-menu_leave-to","enter-active-class":"afs-context-menu_enter-active","leave-active-class":"afs-context-menu_leave-active"}},[e.isOpened&&e.isExist?n("div",{directives:[{name:"inject",rawName:"v-inject"}],staticClass:"afs-context-menu",class:e.classes,style:e.style,attrs:{"data-id":e.id}},[n("div",{staticClass:"afs-context-menu__inner"},[e._t("default",null,{getBEMClass:e.getBEMClass})],2)]):e._e()])};r._withStripped=!0;var i=n(2),o=n(4),a=n(1),u=n(14);n(40);function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l={y:["top","bottom","end","start","center"],x:["left","right","end","start","center"]},f={control:"control",auto:"auto"},d="top-left top-right bottom-right bottom-left",h={name:"AfsContextMenu",directives:{inject:u.a},props:{type:{type:String,default:"",required:!0,validator:function(e){return["dropdown","hint","tooltip"].some((function(t){return t===e}))}},modifiers:{type:Object,default:function(){return{y:"bottom",x:"right"}},validator:function(e){if(Object.is(e))return!1;var t=e.x,n=e.y,r=l.y.some((function(e){return e===n})),i=l.x.some((function(e){return e===t}));return r&&i}},id:{type:[String,Number],default:"context-menu"},offsetY:{type:[Number,String],default:0,validator:function(e){return isFinite(+e)}},offsetX:{type:[Number,String],default:0,validator:function(e){return isFinite(+e)}},viewboxOffsetY:{type:[Number,String],default:20,validator:function(e){return isFinite(+e)}},viewboxOffsetX:{type:[Number,String],default:20,validator:function(e){return isFinite(+e)}},borderRadius:{type:String,default:d,validator:function(e){var t=d.split(" ");return e.split(" ").every((function(e){return t.includes(e)}))}},width:{type:[Number,String],default:"auto",validator:function(e){return isFinite(+e)||!!f[e]}},maxWidth:{type:[Number,String],default:null,validator:function(e){return isFinite(+e)}},minWidth:{type:[Number,String],default:0,validator:function(e){return isFinite(+e)}},height:{type:[Number,String],default:"auto",validator:function(e){return isFinite(+e)||!!f[e]}},maxHeight:{type:[Number,String],default:null,validator:function(e){return isFinite(+e)}},minHeight:{type:[Number,String],default:0,validator:function(e){return isFinite(+e)}},hasArrow:{type:Boolean,default:!1},isError:{type:Boolean,default:!1},isExist:{type:Boolean,default:!0}},data:function(){return{control:null,top:0,left:0,sizes:{width:null,maxWidth:null,minWidth:null,height:null,maxHeight:null,minHeight:null},isOpened:!1,showToBottom:null,showToRight:null}},computed:{classes:function(){var e=this.showToBottom,t=this.showToRight,n={left:"afs-context-menu_left",right:"afs-context-menu_right",start:"afs-context-menu_x-start",end:"afs-context-menu_x-end",center:"afs-context-menu_x-center"},r={top:"afs-context-menu_top",bottom:"afs-context-menu_bottom",start:"afs-context-menu_y-start",end:"afs-context-menu_y-end",center:"afs-context-menu_y-center"},i=null,o=null;return this.direction.y.top||this.direction.y.bottom?i=e?r.bottom:r.top:this.direction.y.start||this.direction.y.end?i=e?r.start:r.end:this.direction.y.center&&(i=r.center),this.direction.x.right||this.direction.x.left?o=t?n.right:n.left:this.direction.x.start||this.direction.x.end?o=e?n.start:n.end:this.direction.x.center&&(o=n.center),[this.themeClass,i,o,{"afs-context-menu_arrow":this.hasArrow,"afs-context-menu_error":this.isError},"afs-context-menu_".concat(this.type)].concat(s(this.borderRadius.split(" ").map((function(e){return"afs-context-menu_border-".concat(e,"-radius")}))))},themeClass:function(){var e=Object(o.a)(this.$root);return Object(i.c)(e.theme)},style:function(){return{top:"".concat(this.top,"px"),left:"".concat(this.left,"px"),width:this.sizes.width&&"".concat(this.sizes.width,"px"),height:this.sizes.height&&"".concat(this.sizes.height,"px")}},direction:function(){return{y:{top:"top"===this.modifiers.y,bottom:"bottom"===this.modifiers.y,start:"start"===this.modifiers.y,end:"end"===this.modifiers.y,center:"center"===this.modifiers.y},x:{left:"left"===this.modifiers.x,right:"right"===this.modifiers.x,start:"start"===this.modifiers.x,end:"end"===this.modifiers.x,center:"center"===this.modifiers.x}}},isDropdown:function(){return"dropdown"===this.type},isHint:function(){return"hint"===this.type},isTooltip:function(){return"tooltip"===this.type},toBottom:function(){return this.direction.y.bottom||this.direction.y.start},toRight:function(){return this.direction.x.right||this.direction.x.start}},watch:{isOpened:{immediate:!0,handler:function(e){e?(!this.isHint&&document.addEventListener("click",this.handleDocumentClick,!0),window.addEventListener("resize",this.handleWindowResize)):(!this.isHint&&document.removeEventListener("click",this.handleDocumentClick,!0),window.removeEventListener("resize",this.handleWindowResize))}},toBottom:function(){this.showToBottom=this.toBottom},toRight:function(){this.showToRight=this.toRight}},mounted:function(){a.b.set({id:this.id,component:this})},beforeDestroy:function(){a.b.delete(this.id)},methods:{getBEMClass:function(e){return Object(i.a)("afs-context-menu",e)},showByElement:function(e){this._open(),this.setPositionByElement(e)},recalc:function(){this.isOpened&&(this._reset(),this.setPositionByElement(this.control))},setPositionByElement:function(e){var t=this,n=e.getBoundingClientRect();this.top=-99999,this.left=-99999,this.$nextTick((function(){if(t.$el.getBoundingClientRect){var r=t.getViewbox(),i=t.$el.getBoundingClientRect(),o={width:Math.max(t.minWidth,f.control===t.width?n.width:f.auto===t.width?i.width:t.width),height:Math.max(t.minHeight,f.control===t.height?n.height:f.auto===t.height?i.height:t.height)},a=t.getContainerPositionAndMaxSize({direction:t.modifiers.y,viewbox:r.y,offset:+t.offsetY,control:{size:n.height,position:n.top},container:{size:null!==t.maxHeight&&+t.maxHeight<o.height?+t.maxHeight:o.height}}),u=t.getContainerPositionAndMaxSize({direction:t.modifiers.x,viewbox:r.x,offset:+t.offsetX,control:{size:n.width,position:n.left},container:{size:null!==t.maxWidth&&+t.maxWidth<o.width?+t.maxWidth:o.width}}),s=t.maxWidth&&+t.maxWidth<u.maxSize?+t.maxWidth:u.maxSize,c=t.maxHeight&&+t.maxHeight<a.maxSize?+t.maxHeight:a.maxSize;t.top=a.position,t.left=u.position,t.sizes.width=Math.min(o.width,s),t.sizes.height=Math.min(o.height,c)}else t.setPositionByElement(e)}))},getContainerPositionAndMaxSize:function(e){var t=e.direction,n=e.viewbox,r=e.offset,i=e.control,o=e.container,a="center"===t,u="start"===t,s="end"===t,c="top"===t||"left"===t,l=a?i.position+i.size/2-o.size/2:u?i.position+r:s?i.position+i.size-o.size-r:c?i.position-o.size-r:i.position+i.size+r;return{position:s||c?Math.max(l,n.min):l,maxSize:a?n.size:s||c?o.size-(n.min-l):n.max-l}},getViewbox:function(){var e=+this.viewboxOffsetY,t=+this.viewboxOffsetX;return{y:{min:e,max:window.innerHeight-e,size:window.innerHeight-2*e},x:{min:t,max:window.innerWidth-t,size:window.innerWidth-2*t}}},handleWindowResize:function(){this._close()},handleDocumentClick:function(e){var t=this;e.path.some((function(e){return e===t.$el}))||e.path.some((function(e){return e.dataset&&e.dataset.afsDropdownControl===t.id}))||this._close()},_reset:function(){this.sizes.width=null,this.sizes.height=null},_open:function(){this.isOpened||(this.isOpened=!0,this.$emit("open"))},_close:function(){this.isOpened&&(this.isOpened=!1,this._reset(),this.$emit("close"))},toggle:function(e){this.isOpened?this.close():this.open(e)},open:function(e){!this.isOpened&&e&&this.isExist&&(this.control=e,this.showByElement(e))},close:function(){this.isOpened&&this.isExist&&this._close()}}},p=n(0),y=Object(p.a)(h,r,[],!1,null,null,null);y.options.__file="WebUI/VueJsComponentLibrary/src/components/ContextMenu/components/ContextMenuStatic.vue";y.exports;var v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.tag,{tag:"component",staticClass:"afs-context-menu__section"},[e.items.length?e._l(e.items,(function(t){return n(e.itemTag,{key:t.id,tag:"component",staticClass:"afs-context-menu__item"},[e._t("item",null,{data:t})],2)})):e._e(),e._v(" "),e._t("default")],2)};v._withStripped=!0;var m={ul:"li",div:"div"},b={name:"AfsContextMenuSection",props:{tag:{type:String,default:"ul",validator:function(e){return!!m[e]}},items:{type:Array,default:function(){return[]}}},computed:{itemTag:function(){return m[this.tag]}}},g=Object(p.a)(b,v,[],!1,null,null,null);g.options.__file="WebUI/VueJsComponentLibrary/src/components/ContextMenu/components/Section.vue";g.exports;var w=function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"afs-context-menu__item-in afs-context-menu__item-clickable",class:{"afs-context-menu__item-in_icon":this.hasIcon},attrs:{type:this.type}},[t("Icon",{staticClass:"afs-context-menu__item-icon",attrs:{name:this.icon}}),this._v(" "),t("AfsText",{attrs:{type:"single line",inline:""}},[this._t("default")],2)],1)};w._withStripped=!0;var O=n(5),x=n(3),S={name:"AfsContextMenuButton",components:{Icon:O.a,AfsText:x.a},props:{type:{type:String,default:"button"},icon:{type:String,default:""}},computed:{hasIcon:function(){return!!this.icon.length}}},P=Object(p.a)(S,w,[],!1,null,null,null);P.options.__file="WebUI/VueJsComponentLibrary/src/components/ContextMenu/components/Button.vue";P.exports;var _=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"afs-context-menu__head"},[t("AfsText",{attrs:{type:"medium title"}},[this._t("default")],2),this._v(" "),t("button",{staticClass:"afs-context-menu__btn-close",on:{click:this.onClose}},[t("Icon",{staticClass:"afs-context-menu__icon-close",attrs:{name:"close-8"}})],1)],1)};_._withStripped=!0;var R={name:"Head",components:{Icon:O.a,AfsText:x.a},methods:{onClose:function(){var e=document.querySelector("body");e&&e.click(),this.$emit("close")}}},M=Object(p.a)(R,_,[],!1,null,null,null);M.options.__file="WebUI/VueJsComponentLibrary/src/components/ContextMenu/components/Head.vue";M.exports;var C=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"afs-context-menu__footer",style:{"justify-content":this.justify}},[this._t("default")],2)};C._withStripped=!0;var k={name:"Head",props:{justify:{type:String,default:""}}},j=Object(p.a)(k,C,[],!1,null,null,null);j.options.__file="WebUI/VueJsComponentLibrary/src/components/ContextMenu/components/Footer.vue";j.exports;var E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade","enter-class":"afs-context-menu_enter","leave-to-class":"afs-context-menu_leave-to","enter-active-class":"afs-context-menu_enter-active","leave-active-class":"afs-context-menu_leave-active"}},[e.isOpened&&e.isExist?n("div",{directives:[{name:"inject",rawName:"v-inject:[parentContainerId]",arg:e.parentContainerId}],staticClass:"afs-context-menu",class:e.classes,style:e.style,attrs:{"data-locator":e.dataLocator,"data-id":e.id}},[e.isInfotooltip?n("div",{staticClass:"afs-context-menu__connector"}):e._e(),e._v(" "),n("div",{staticClass:"afs-context-menu__inner"},[e._t("default",[e.text?n("span",[e._v(e._s(e.text))]):e._e()],{getBEMClass:e.getBEMClass})],2)]):e._e()])};function T(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}E._withStripped=!0;var D={y:["top","bottom","end","start","center"],x:["left","right","end","start","center"]},I={name:"AfsContextMenu",directives:{inject:u.a},props:{type:{type:String,default:"",required:!0,validator:function(e){return["dropdown","hint","tooltip","infotooltip"].some((function(t){return t===e}))}},modifiers:{type:Object,default:function(){return{y:"bottom",x:"center"}},validator:function(e){if(Object.is(e))return!1;var t=e.x,n=e.y,r=D.y.some((function(e){return e===n})),i=D.x.some((function(e){return e===t}));return r&&i}},id:{type:[String,Number],default:"context-menu"},borderRadius:{type:String,default:"top-left top-right bottom-right bottom-left",validator:function(e){var t="top-left top-right bottom-right bottom-left".split(" ");return e.split(" ").every((function(e){return t.includes(e)}))}},dataLocator:{type:String,default:"context-menu"},isSticky:{type:Boolean,default:!1},showAtCursor:{type:Boolean,default:!1},offset:{type:Number,default:4},viewboxOffset:{type:Number,default:20},arrow:{type:Boolean,default:!1},wide:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1},initWidth:{type:[Number,String],default:0},error:{type:Boolean,default:!1},isExist:{type:Boolean,default:!0},maxHeightLimit:{type:Number,default:Number.MAX_SAFE_INTEGER},maxWidthLimit:{type:Number,default:Number.MAX_SAFE_INTEGER},parentContainerId:{type:String,default:""}},data:function(){return{parent:null,top:0,left:0,width:null,maxWidth:null,minWidth:null,maxHeight:null,isOpened:!1,showToBottom:null,showToRight:null,text:""}},computed:{classes:function(){var e=this.showToBottom,t=this.showToRight,n={left:"afs-context-menu_left",right:"afs-context-menu_right",start:"afs-context-menu_x-start",end:"afs-context-menu_x-end",center:"afs-context-menu_x-center"},r={top:"afs-context-menu_top",bottom:"afs-context-menu_bottom",start:"afs-context-menu_y-start",end:"afs-context-menu_y-end",center:"afs-context-menu_y-center"},i=null,o=null;return this.direction.y.top||this.direction.y.bottom?i=e?r.bottom:r.top:this.direction.y.start||this.direction.y.end?i=e?r.start:r.end:this.direction.y.center&&(i=r.center),this.direction.x.right||this.direction.x.left?o=t?n.right:n.left:this.direction.x.start||this.direction.x.end?o=e?n.start:n.end:this.direction.x.center&&(o=n.center),[this.themeClass,i,o,{"afs-context-menu_arrow":this.arrow,"afs-context-menu_error":this.error},"afs-context-menu_".concat(this.type)].concat(T(this.borderRadius.split(" ").map((function(e){return"afs-context-menu_border-".concat(e,"-radius")}))))},themeClass:function(){var e=Object(o.a)(this.$root);return Object(i.c)(e.theme)},style:function(){return{top:"".concat(this.top,"px"),left:"".concat(this.left,"px"),width:this.fullWidth&&this.width&&"".concat(this.width,"px")||!!this.initWidth&&"".concat(this.initWidth,"px"),"min-width":this.wide&&this.minWidth&&"".concat(this.minWidth,"px"),"max-width":this.maxWidth&&"".concat(this.maxWidth,"px"),"max-height":this.maxHeight&&"".concat(this.maxHeight,"px")}},direction:function(){return{y:{top:"top"===this.modifiers.y,bottom:"bottom"===this.modifiers.y,start:"start"===this.modifiers.y,end:"end"===this.modifiers.y,center:"center"===this.modifiers.y},x:{left:"left"===this.modifiers.x,right:"right"===this.modifiers.x,start:"start"===this.modifiers.x,end:"end"===this.modifiers.x,center:"center"===this.modifiers.x}}},isDropdown:function(){return"dropdown"===this.type},isHint:function(){return"hint"===this.type},isTooltip:function(){return"tooltip"===this.type},isInfotooltip:function(){return"infotooltip"===this.type},toBottom:function(){return this.direction.y.bottom||this.direction.y.start},toRight:function(){return this.direction.x.right||this.direction.x.start},api:function(){var e=this;return{open:this.open,close:this.close,setText:this.setText,toggle:this.toggle,showImmediately:function(){return e.isSticky&&e.isOpened},on:function(t,n){return e.$on(t,n)},off:function(t,n){return e.$off(t,n)}}}},watch:{isOpened:{immediate:!0,handler:function(e){e?(!this.isHint&&document.addEventListener("click",this.handleDocumentClick,!0),window.addEventListener("resize",this.handleWindowResize)):(!this.isHint&&document.removeEventListener("click",this.handleDocumentClick,!0),window.removeEventListener("resize",this.handleWindowResize))}},toBottom:function(){this.showToBottom=this.toBottom},toRight:function(){this.showToRight=this.toRight}},mounted:function(){a.b.set({id:this.id,component:this.api})},beforeDestroy:function(){a.b.delete(this.id)},methods:{setText:function(e){this.text=e},getBEMClass:function(e){return Object(i.a)("afs-context-menu",e)},showByCoordinates:function(e){var t=e.x,n=e.y;this._open(),this.setPositionByCoordinates({x:t,y:n})},showByElement:function(e,t){this._open(),this.setPositionByElement(e,t)},setPositionByElement:function(e,t){var n=this,r=this.direction,i=e.getBoundingClientRect();this.top=-99999,this.left=-99999,this.$nextTick((function(){if(n.$el.getBoundingClientRect){var o=n.getViewbox(),a=n.$el.getBoundingClientRect(),u=n.getContainerPositionAndMaxSize({direction:{primary:r.y.bottom,secondary:r.y.top,start:r.y.start,end:r.y.end,center:r.y.center},controlSize:t&&t.controlSize?t.controlSize:i.height,controlPosition:t&&t.y?t.y:i.top,containerSize:Math.min(a.height,n.maxHeightLimit),viewbox:o.y}),s=n.getContainerPositionAndMaxSize({direction:{primary:r.x.right,secondary:r.x.left,start:r.x.start,end:r.x.end,center:r.x.center},controlSize:t&&t.controlSize?t.controlSize:i.width,controlPosition:t&&t.x?t.x:i.left,containerSize:Math.min(a.width,n.maxWidthLimit),viewbox:o.x});n.top=u.position,n.left=s.position,n.maxHeight=n.isHint?null:Math.min(u.maxSize||Number.MAX_SAFE_INTEGER,n.maxHeightLimit),n.maxWidth=Math.min(s.maxSize||Number.MAX_SAFE_INTEGER,n.maxWidthLimit),n.showToBottom=(r.y.bottom||r.y.start)&&u.primary!==u.secondary||(r.y.top||r.y.end)&&(u.primary===u.secondary||u.primary===o.y.min),n.showToRight=(r.x.left||r.x.end)&&(s.primary===s.secondary||s.primary===o.x.min)||(r.x.right||r.x.start)&&s.primary!==s.secondary}else n.setPositionByElement(e,t)}))},getContainerPositionAndMaxSize:function(e){var t=e.direction,n=e.controlSize,r=e.controlPosition,i=e.containerSize,o=e.viewbox,a=this.offset,u=t.primary||t.start,s=t.secondary||t.end,c=0,l=0,f=null,d={size:o.size<i};return u?(t.primary?(c=r+n+a,l=r-i-a):t.start&&(c=r,l=r+n-i),d.primaryMin=c<o.min,d.primaryMax=c+i>o.max,d.secondaryMin=l<o.min,d.secondaryMax=l+i>o.max,d.size?(c=o.min,f=o.size):d.primaryMin&&!d.size?c=o.min:d.primaryMax&&(d.secondaryMin||d.secondaryMax)&&!d.size?c=o.max-i:!d.primaryMax||d.secondaryMin||d.secondaryMax||d.size||(c=l)):s?(t.secondary?(c=r-a-i,l=r+n+a):t.end&&(c=r+n-i,l=r),d.primaryMin=c<o.min,d.primaryMax=c+i>o.max,d.secondaryMin=l<o.min,d.secondaryMax=l+i>o.max,d.size?(c=o.min,f=o.size):d.primaryMax&&!d.size?c=o.max-i:d.primaryMin&&(d.secondaryMin||d.secondaryMax)&&!d.size?c=o.min:!d.primaryMin||d.secondaryMin||d.secondaryMax||d.size||(c=l)):t.center&&(c=r+n/2-i/2,d.min=o.min>c,d.max=o.max<c+i,!d.min||d.max||d.size?d.min||!d.max||d.size?d.size&&(c=o.min,f=o.size):c=o.max-i:c=o.min),{position:c,maxSize:f,primary:c,secondary:l}},setPositionByCoordinates:function(e){var t=this,n=e.x,r=e.y,i=this.direction;this.top=0,this.left=0;var o=r,a=n;this.$nextTick((function(){if(t.$el.getBoundingClientRect){var e=t.getViewbox(),n=t.$el.getBoundingClientRect(),r=t.getContainerPositionAndMaxSize({direction:{primary:i.y.bottom,secondary:i.y.top,start:i.y.start,end:i.y.end,center:i.y.center},controlSize:0,controlPosition:o,containerSize:n.height,viewbox:e.y}),u=t.getContainerPositionAndMaxSize({direction:{primary:i.x.right,secondary:i.x.left,start:i.x.start,end:i.x.end,center:i.x.center},controlSize:0,controlPosition:a,containerSize:n.width,viewbox:e.x});t.top=r.position,t.left=u.position,t.maxHeight=r.maxSize,t.maxWidth=u.maxSize}else t.setPositionByCoordinates({x:a,y:o})}))},handleWindowResize:function(){this._close()},handleDocumentClick:function(e){var t=this;e.path.some((function(e){return e===t.$el}))||e.path.some((function(e){return e.dataset&&e.dataset.afsDropdownControl===t.id}))||this._close(e)},getViewbox:function(){var e=this.viewboxOffset;return{y:{min:e,max:window.innerHeight-e,size:window.innerHeight-2*e},x:{min:e,max:window.innerWidth-e,size:window.innerWidth-2*e}}},_open:function(){this.isOpened||(this.isOpened=!0,this.$emit("open"))},_close:function(e){this.isOpened&&(this.isOpened=!1,this.parent=null,this.maxWidth=null,this.maxHeight=null,this.$emit("close",e))},isOpenedOnSameParent:function(e){return this.isOpened&&this.parent===e},toggle:function(e){this.isOpenedOnSameParent(e)?this.close():this.open(e)},open:function(e,t){if("$el"in e&&(e=e.$el),e&&this.isExist){this.parent!==e&&(this.parent=e);var n=e.getBoundingClientRect().width;this.width=n,this.minWidth=n,this.showByElement(e,this.showAtCursor||this.isSticky?{x:t.clientX,y:t.clientY,controlSize:1}:null)}},close:function(){this.isOpened&&this.isExist&&this._close()}}},L=(n(63),Object(p.a)(I,E,[],!1,null,null,null));L.options.__file="WebUI/VueJsComponentLibrary/src/components/ContextMenu/App.vue";var B=L.exports;t.a=B},100:function(e,t,n){"use strict";t.a=function(e){return new Promise((function(t){return setTimeout((function(n){e&&e(),t()}),0)}))}},101:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return y})),n.d(t,"d",(function(){return w})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return x}));var o=function(){function e(t,n,i,o,a){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0];r(this,e),this.center=t,this.angles=n,this.radius=i,this.width=o,this.material=a,this.z=u}var t,n,o;return t=e,o=[{key:"createArc",value:function(t,n,r,i,o,a,u){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[0,.5],c=[t,n],l=[r,i];return new e(c,l,o,a,u,s)}},{key:"createArcCompatibility2D",value:function(t,n,r,i,o,a,u,s){var c=[t,n],l=2*Math.PI,f=i,d=o;return a?(f=l-i,d=2*l-o):d=(f=l-o)<d?l-i:2*l-i,new e(c,[f,d],r,u,s)}},{key:"createCircleStroke",value:function(t,n,r,i,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,.5],u=[t,n],s=[0,2*Math.PI];return new e(u,s,r,o,i,a)}},{key:"createCircleFill",value:function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,.5],a=[t,n],u=[0,2*Math.PI];return new e(a,u,r/2,r,i,o)}}],(n=null)&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n,r,i,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.text=t,this.boundingArea=n,this.position=r,this.direction=i,this.fontHeight=o,this.material=a}var t,n,r;return t=e,(n=[{key:"GlyphsCount",value:function(){throw new Error("Method not supported for instance od class. Only for interface.")}},{key:"GetGlyph",value:function(e){throw new Error("Method not supported for instance od class. Only for interface.")}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=c((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;l(this,e),f(this,"from",void 0),f(this,"to",void 0),f(this,"color",void 0),f(this,"width",void 0),f(this,"dash",void 0),this.from=t,this.to=n,this.color=r,this.width=i,this.dash=o}));function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(){function e(t,n,r,i,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"position",void 0),p(this,"direction",void 0),p(this,"size",void 0),p(this,"z",void 0),p(this,"radius",void 0),p(this,"material",void 0),this.position=t,this.direction=n,this.size=r,this.radius=i,this.material=o,this.z=a||[0,0]}var t,n,r;return t=e,r=[{key:"createLine",value:function(t,n,r,i,o,a,u){u=u||"butt";var s=Math.sqrt((r-t)*(r-t)+(i-n)*(i-n)),c=(r-t)/s,l=(i-n)/s,f=[c,l],d=0,h=[0,0],p=[0,0];if("round"===u||"square"===u){var y=t-(d=o/2)*c,v=n-d*l,m=d*c+r,b=d*l+i;h=[.5*(y+m),.5*(v+b)],p=[s=Math.sqrt((m-y)*(m-y)+(b-v)*(b-v)),o],"square"===u&&(d=0)}else h=[.5*(t+r),.5*(n+i)],p=[s,o];return new e(h,f,p,d,a)}},{key:"createRoundedSegmentFill",value:function(t,n,r,i,o,a){var u=2*a,s=Math.sqrt((r-t)*(r-t)+(i-n)*(i-n));return new e([.5*(t+r),.5*(n+i)],[(r-t)/s,(i-n)/s],[s+=u,u],a,o)}},{key:"createRectangle",value:function(t,n,r,i,o,a,u,s){return new e([t,n],a||[1,0],[r,i],u||0,o,s)}},{key:"createStrokedRectangle",value:function(e,t,n,r,i,o,a){var u=i/2;return[this.createLine(e-u,t,e+n+u,t,i,o,a),this.createLine(e+n,t+u,e+n,t-r-u,i,o,a),this.createLine(e-u,t-r,e+n+u,t-r,i,o,a),this.createLine(e,t+u,e,t-r-u,i,o,a)]}},{key:"createRotatedRect",value:function(t,n,r,i,o,a,u){u=u||0;var s=[r,i];if(0===(a=a||0))return new e([t+r/2,n-i/2],[1,0],s,u,o);var c=Math.cos(a),l=Math.sin(a),f=[c,-l];return new e([t+(c*=.5)*r-(l*=.5)*i,n-l*r-c*i],f,s,u,o)}},{key:"createRoundRect",value:function(t,n,r,i,o,a){var u={x:0,y:0},s={x:0,y:0};t<r?n>i?(u.x=t,u.y=n,s.x=r,s.y=i):(u.x=t,u.y=i,s.x=r,s.y=n):n>i?(u.x=r,u.y=n,s.x=t,s.y=i):(u.x=r,u.y=i,s.x=t,s.y=n);var c=s.x-u.x,l=u.y-s.y;return new e([u.x+c/2,u.y-l/2],[1,0],[c,l],a,o)}}],(n=[{key:"isFailed",value:function(){return isNaN(this.direction[0])||isNaN(this.direction[1])||isNaN(this.position[0])||isNaN(this.position[1])}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=m((function e(){b(this,e),g(this,"vertices",[]),g(this,"indices",[]),g(this,"outlineIndices",[]),g(this,"GetVertices",(function(){return this.vertices})),g(this,"GetIndices",(function(){return this.indices})),g(this,"GetOutlineIndices",(function(){return this.outlineIndices}))})),O=m((function e(t,n,r,i,o,a){b(this,e),g(this,"polygon",void 0),g(this,"position",void 0),g(this,"material",void 0),g(this,"z",void 0),g(this,"angle",void 0),g(this,"scale",void 0),this.polygon=t,this.position=n,this.material=r,this.z=i||[0,0],this.angle=o||0,this.scale=a||[1,1]})),x=function(){function e(){b(this,e),g(this,"contours",[])}return m(e,[{key:"addPolygonContour",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={is_hole:t,points:e};this.contours.push(n)}},{key:"GetContours",value:function(){return this.contours}}]),e}()},102:function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return i.a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l}));var r=n(308),i=n(132),o=n(51);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"materials",[]),u(this,"materialDictionary",void 0)}var t,n,r;return t=e,(n=[{key:"getMaterialId",value:function(e,t,n){var r=e+","+(t||0).toString()+","+(n||0).toString();if(r in this.materialDictionary)return this.materialDictionary[r];var a=o.a.toRgbaArray(e);if(!a)return this.getMaterialId("#ffffff");var u=new i.a(a,t||0,n||!1),s=this.materials.push(u)-1;return this.materialDictionary[r]=s,s}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=void 0,(r="materials")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.materials=t||[]}var t,n,r;return t=e,(n=[{key:"GetMaterialsCount",value:function(){return this.materials.length}},{key:"GetMaterial",value:function(e){return e>=this.materials.length?null:this.materials[e]}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},1067:function(e,t,n){e.exports=n(1178)},1068:function(e,t,n){"use strict";n(816)},1069:function(e,t,n){"use strict";n(817)},107:function(e,t,n){},1070:function(e,t,n){"use strict";n(818)},1071:function(e,t,n){"use strict";n(819)},1072:function(e,t,n){"use strict";n(820)},112:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"afs-tabs",class:e.classes,attrs:{"data-locator":e.dataLocator}},e._l(e.modelValue,(function(t){return n("AfsText",{key:t.id,staticClass:"afs-tabs__item",class:{"is-active":t.isActive},attrs:{"data-locator":e.dataLocator+"-item"},on:{click:function(n){return e.onClick(t.id)}}},[e._v("\n    "+e._s(t.name)+"\n  ")])})),1)};r._withStripped=!0;var i=n(3),o=n(2),a=n(4);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={name:"AfsTabs",components:{AfsText:i.a},model:{prop:"modelValue",event:"model-change"},props:{dataLocator:{type:String,default:"tabs"},modelValue:{type:Array,default:function(){return[]},validator:function(e){return e.every((function(e){return!function(e){return void 0===e}(e.id)}))}}},computed:{classes:function(){return[this.themeClass]},themeClass:function(){var e=Object(a.a)(this.$root);return Object(o.c)(e.theme)}},methods:{getBEMClass:function(e){return Object(o.a)("afs-tabs",e)},onClick:function(e){var t=this.modelValue.map((function(t){return s(s({},t),{},{isActive:e===t.id})}));this.$emit("model-change",t)}}},f=(n(164),n(0)),d=Object(f.a)(l,r,[],!1,null,null,null);d.options.__file="WebUI/VueJsComponentLibrary/src/components/Tabs/App.vue";var h=d.exports;t.a=h},1178:function(e,t,n){"use strict";n.r(t);var r={0:"Free",1:"Point to Point",2:"Object to Object"},i=0,o=1,a=2,u=n(36);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=new(0,window.__APP__.library.Vuex.Store)({state:{items:[],result:{items:[],data:null},previous:[],activeView:null,activeModeId:i,modes:[{id:i,name:r[i],isActive:!0},{id:o,name:r[o],isActive:!1},{id:a,name:r[a],isActive:!1}],enabledModes:[]},mutations:{addItem:function(e,t){e.items=t},setItems:function(e,t){e.items=t},setDefaultItems:function(e,t){e.items=t},setResult:function(e,t){e.result.items=t.items,e.result.data=t.data},addPrevious:function(e,t){e.previous=[t].concat(f(e.previous))},setPrevious:function(e,t){e.previous=t},clearPrevious:function(e){e.previous=[]},slicePrevious:function(e){e.previous=e.previous.slice(0,-1)},setActiveView:function(e,t){e.activeView=t},setActiveMode:function(e,t){e.activeModeId=t},setEnabledModes:function(e,t){e.enabledModes=t},setModes:function(e,t){e.modes=t}},getters:{getPrevious:function(e){return e.previous.length<=5?e.previous:e.previous.slice(0,-1)},getModes:function(e){return e.modes.filter((function(t){return e.enabledModes.includes(t.id)}))}}}),p=function(e){var t=h.state.items.map((function(t,n){return n===e.index?e:(void 0!==t.isActive&&(t.isActive=!0,t.isDisabled=!1,t.text="Select on Design"),t)}));h.commit("addItem",t)},y=function(){var e=[{id:1,name:h.state.activeModeId===a?"Object 1":"Point 1",text:"Select on design",x:null,y:null,unit:null,isActive:!0},{id:2,name:h.state.activeModeId===a?"Object 2":"Point 2",text:"...",x:null,y:null,unit:null,isActive:!1,isDisabled:!0}];h.commit("setDefaultItems",e)},v=function(e){return h.commit("setResult",e)},m=function(){return h.state.activeView},b=function(e,t,n){return c(c({},e),{},{x:n?Object(u.a)(e.x):Object(u.b)(e.x),y:n?Object(u.a)(e.y):Object(u.b)(e.y),x1:n?Object(u.a)(e.x1):Object(u.b)(e.x1),y1:n?Object(u.a)(e.y1):Object(u.b)(e.y1),unit:t})},g=function(e){!function(e){var t="mm"===e,n=h.state.items.map((function(n){return n.unit&&e!==n.unit?b(n,e,t):n}));h.commit("setItems",n)}(e),function(e){if(h.state.previous.length){var t="mm"===e,n=h.state.previous.map((function(n){var r,i,o,a,s,c,l={result:{},items:[]};e!==n.result.unit?(l.result.x=t?Object(u.a)(null==n||null===(r=n.result)||void 0===r?void 0:r.x):Object(u.b)(null==n||null===(i=n.result)||void 0===i?void 0:i.x),l.result.y=t?Object(u.a)(null==n||null===(o=n.result)||void 0===o?void 0:o.y):Object(u.b)(null==n||null===(a=n.result)||void 0===a?void 0:a.y),l.result.xy=t?Object(u.a)(null==n||null===(s=n.result)||void 0===s?void 0:s.xy):Object(u.b)(null==n||null===(c=n.result)||void 0===c?void 0:c.xy),l.result.unit=e,l.result.id=n.result.id):l.result=n.result;return l.items=null==n?void 0:n.items.map((function(n){return n.unit!==e?b(n,e,t):n})),l}));h.commit("setPrevious",n)}}(e),function(e){var t,n,r=c({},h.state.result);if(null!=r&&null!==(t=r.data)&&void 0!==t&&t.unit&&(null==r||null===(n=r.data)||void 0===n?void 0:n.unit)!==e){r.data.unit=e;var i="mm"===e;r.data.x=i?Object(u.a)(r.data.x):Object(u.b)(r.data.x),r.data.y=i?Object(u.a)(r.data.y):Object(u.b)(r.data.y),r.data.xy=i?Object(u.a)(r.data.xy):Object(u.b)(r.data.xy),r.items=r.items.map((function(t){return c(c({},t),{},{length:i?Object(u.a)(t.length):Object(u.b)(t.length),unit:e})})),h.commit("setResult",r)}}(e)},w=function(){return h.state.activeModeId},O=h,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"measurement-panel",attrs:{id:"measurement-panel"}},[e.getModes.length?n("ModeSwitcher",{attrs:{items:e.getModes},on:{"change-mode":e.onChangeMode}}):e._e(),e._v(" "),n("MeasurementSection"),e._v(" "),e.getPrevious.length?n("PreviousSection",{attrs:{items:e.getPrevious},on:{select:e.onSelect}}):e._e()],1)};x._withStripped=!0;var S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"measurement-section"},[e.items.length?n("div",{staticClass:"measurement-section__row"},e._l(e.items,(function(t){return n("Item",{key:t.id,attrs:{"is-disabled":t.isDisabled,"is-active":t.isActive},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(t.name))]},proxy:!0},{key:"text",fn:function(){return[e._v(e._s(e.getItemText(t)))]},proxy:!0}],null,!0)})})),1):e._e(),e._v(" "),e.result.items.length?n("div",{staticClass:"measurement-section__row"},e._l(e.result.items,(function(t){return n("Item",{key:t.id,attrs:{"primary-title":""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(t.name)+" ")]},proxy:!0},{key:"text",fn:function(){return[e._v(e._s(e.getResultText(t)))]},proxy:!0}],null,!0)})})),1):e._e()])};S._withStripped=!0;var P=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"app-item",class:{"is-active":this.isActive,"is-disabled":this.isDisabled}},[t("AfsText",{staticClass:"app-item__title",class:{"app-item__title_primary":this.primaryTitle},attrs:{type:"title"}},[this._t("title")],2),this._v(" "),t("AfsText",{staticClass:"app-item__text"},[this._t("text")],2)],1)};P._withStripped=!0;var _=n(3),R={name:"AppMeasurementItem",components:{AfsText:_.a},props:{primaryTitle:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1}}},M=(n(1068),n(0)),C=Object(M.a)(R,P,[],!1,null,null,null);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}C.options.__file="src/plugins/Measurement/view/components/Item.vue";var E={name:"MeasurementSection",components:{Item:C.exports},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,window.__APP__.library.Vuex.mapState)(["items","result"])),methods:{getItemText:function(e){return e.x||e.isObject?e.isObject?this.getObjectText(e):this.getPointText(e):e.text},getPointText:function(e){return"".concat(e.x.toFixed(2)).concat(e.unit,"/ ").concat(e.y.toFixed(2)).concat(e.unit)},getObjectText:function(e){var t,n,r,i,o=e.unit,a=e.x&&e.y?"(".concat(e.x.toFixed(2)).concat(o,", ").concat(e.y.toFixed(2)).concat(o,")"):"",u=e.x1&&e.y1?"(".concat(e.x1.toFixed(2)).concat(o,", ").concat(e.y1.toFixed(2)).concat(o,")"):"",s=null!=e&&null!==(t=e.layer)&&void 0!==t&&t.on?"on ".concat(e.layer.on):null!=e&&null!==(n=e.layer)&&void 0!==n&&n.from&&null!=e&&null!==(r=e.layer)&&void 0!==r&&r.to?"from ".concat(e.layer.from," to ").concat(e.layer.to):"",c=(null==e||null===(i=e.additionalInfo)||void 0===i?void 0:i.fullName)||"";return"".concat(c," ").concat(a).concat(u," ").concat(s)},getResultText:function(e){return"".concat(e.length.toFixed(2)).concat(e.unit)}}},T=(n(1069),Object(M.a)(E,S,[],!1,null,null,null));T.options.__file="src/plugins/Measurement/view/components/MeasurementSection.vue";var A=T.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"previous-section"},[n("span",{staticClass:"previous-section__title"},[e._v("previous measurements")]),e._v(" "),e._l(e.items,(function(t,r){return n("div",{directives:[{name:"hint",rawName:"v-hint",value:{id:e.hintId,delay:200,onOpen:e.onHintOpen(t),onClose:e.onHintClose(t)},expression:"{\n      id: hintId,\n      delay: 200,\n      onOpen: onHintOpen(item),\n      onClose: onHintClose(item)\n    }"}],key:t.result.id+t.result.unit+r,staticClass:"previous-section__item",on:{click:function(n){return e.onSelect(t)}}},[n("AfsText",{attrs:{ellipsis:""}},[e._v("\n      "+e._s(e.getText(t))+"\n    ")])],1)})),e._v(" "),n("AfsContextMenu",e._b({},"AfsContextMenu",e.hintConfig,!1),e._l(e.hintText,(function(t,r){return n("div",{key:r+t.text,staticClass:"previous-section__hint"},[n("AfsText",{staticClass:"previous-section__hint-title",attrs:{tag:"span"}},[e._v("\n        "+e._s(t.title)+"\n      ")]),e._v(" "),n("AfsText",{attrs:{tag:"span"}},[e._v("\n        "+e._s(t.text)+"\n      ")])],1)})),0)],2)};D._withStripped=!0;var I=n(10),L=n(21),B=n.n(L),N=n(8),G=n.n(N),F=window.__APP__.analytics,z={name:"AppPreviousSection",components:{AfsContextMenu:I.a,AfsText:_.a},directives:{hint:B.a},props:{items:{type:Array,default:function(){return[]}}},data:function(){return{hintText:null}},computed:{hintId:function(){return G()()},hintConfig:function(){return{type:"hint",id:this.hintId,modifiers:{y:"bottom",x:"center"},offset:8,initWidth:190}}},methods:{getText:function(e){var t=e.result.unit;return"XY: ".concat(this.getResultItem(e.result.xy,t)," / \n        X: ").concat(this.getResultItem(e.result.x,t)," /\n        Y: ").concat(this.getResultItem(e.result.y,t))},getResultItem:function(e,t){var n=e?e.toFixed(2):e;return"".concat(n).concat(t)},onSelect:function(e){this.$emit("select",e),F.dispatchPanelsEvent("Measurement",{action:"Navigate"})},getHintText:function(e){var t=this;return e.items.map((function(e){return{title:"".concat(e.name,":"),text:e.isObject?t.getObjectText(e):t.getPointText(e)}}))},getPointText:function(e){return"".concat(e.x.toFixed(2)).concat(e.unit,"/ ").concat(e.y.toFixed(2)).concat(e.unit)},getObjectText:function(e){var t,n,r,i,o=e.unit,a=e.x&&e.y?"(".concat(e.x.toFixed(2)).concat(o,", ").concat(e.y.toFixed(2)).concat(o,")"):"",u=e.x1&&e.y1?"(".concat(e.x1.toFixed(2)).concat(o,", ").concat(e.y1.toFixed(2)).concat(o,")"):"",s=null!=e&&null!==(t=e.layer)&&void 0!==t&&t.on?"on ".concat(e.layer.on):null!=e&&null!==(n=e.layer)&&void 0!==n&&n.from&&null!=e&&null!==(r=e.layer)&&void 0!==r&&r.to?"from ".concat(e.layer.from," to ").concat(e.layer.to):"",c=(null==e||null===(i=e.additionalInfo)||void 0===i?void 0:i.fullName)||"";return"".concat(c," ").concat(a).concat(u," ").concat(s)},onHintOpen:function(e){var t=this;return function(){t.hintText=t.getHintText(e)}},onHintClose:function(e){var t=this;return function(){t.hintText=null}}}},V=(n(1070),Object(M.a)(z,D,[],!1,null,null,null));V.options.__file="src/plugins/Measurement/view/components/PreviousSection.vue";var H=V.exports,W=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"app-mode-switcher"},[t("AfsTabs",{attrs:{"model-value":this.items},on:{"model-change":this.onChange}})],1)};W._withStripped=!0;var U={name:"AppModeSwitcher",components:{AfsTabs:n(112).a},props:{items:{type:Array,default:function(){return[]}}},methods:{onChange:function(e){var t=e.find((function(e){return e.isActive}));this.$emit("change-mode",t)}}},$=(n(1071),Object(M.a)(U,W,[],!1,null,null,null));$.options.__file="src/plugins/Measurement/view/components/ModeSwitcher.vue";var Z=$.exports;function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=window.__CORE__,Q={name:"AppMeasurement",components:{MeasurementSection:A,PreviousSection:H,ModeSwitcher:Z},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,window.__APP__.library.Vuex.mapGetters)(["getPrevious","getModes"])),methods:{onSelect:function(e){J.bus.emit("Measurement:previousSelect",e)},onChangeMode:function(e){J.bus.emit("Measurement:changeMode",e)}}},Y=(n(1072),Object(M.a)(Q,x,[],!1,null,null,null));Y.options.__file="src/plugins/Measurement/view/App.vue";var K=Y.exports,ee=window.__APP__,te=n(44),ne=n(125),re=n(232),ie=n(9),oe=function(e,t){var n,r;if(!(e.from||e.to||e.fromObject||e.toObject))return null;var i=null!==(n=null==e||null===(r=e.unit)||void 0===r?void 0:r.name)&&void 0!==n?n:"mm",o=ue(e);return{id:Object(ne.a)(),name:ae(e,t),x:o.x,y:o.y,x1:o.x1,y1:o.y1,layer:le(e),additionalInfo:fe(e),unit:i,index:e.from?0:1,isObject:!!e.fromObject||!!e.toObject}},ae=function(e,t){if(e.fromObject||e.toObject)return he(e.fromObject||e.toObject);var n=t===a?"Object":"Point";return e.from?"".concat(n," 1"):e.to?"".concat(n," 2"):n},ue=function(e){var t,n,r=null!==(t=null==e||null===(n=e.unit)||void 0===n?void 0:n.k)&&void 0!==t?t:1;return e.fromObject||e.toObject?se(r,e.fromObject||e.toObject):function(e,t){var n=ce(),r=n.originX,i=n.originY;return{x:(t[0]-r)*e,y:(t[1]-i)*e}}(r,e.from||e.to)},se=function(e,t){var n=ce(),r=n.originX,i=n.originY;return{x:(t.x/1e6-r)*e,y:(t.y/1e6-i)*e,x1:(t.x1/1e6-r)*e,y1:(t.y1/1e6-i)*e}},ce=function(){var e=window.__CORE__.response.metadata.pcbDocument;return null!=e&&e.originX?{originX:e.originX/1e6,originY:e.originY/1e6}:{originX:0,originY:0}},le=function(e){if(!e.fromObject&&!e.toObject)return null;var t=e.fromObject||e.toObject;return{on:"number"==typeof t.startLayer?"":pe(t.layerId),from:t.startLayer&&pe(t.startLayer),to:t.stopLayer&&pe(t.stopLayer)}},fe=function(e){var t=e.fromObject||e.toObject;return t?{fullName:de(t.fullName)}:null},de=function(e){if(!e)return"";var t=e.split("(");return t.length&&1===t.length?e:t[0].split(" ")[1]},he=function(e){return ie.h[Object(re.a)(e.kind)]||"Object"},pe=function(e){var t,n,r=(null===(t=window.__CORE__.response)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.layers).find((function(t){return t.id===e}));return null!=r&&r.name?r.name:""};function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=function(e,t,n){var r=n.mode===te.c.ObjectToObject&&0===n.xy;if(!(n.x||n.y||n.xy||r))return null;var i={items:[],data:ve(ve({},n),{},{id:e,unit:t})};return(n.xy||r)&&i.items.push({id:Object(ne.a)(),name:"Distance XY",length:n.xy,unit:t}),n.x&&i.items.push({id:Object(ne.a)(),name:"Distance X",length:n.x,unit:t}),n.y&&i.items.push({id:Object(ne.a)(),name:"Distance Y",length:n.y,unit:t}),i};function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_e(e);if(t){var i=_e(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}function Se(e,t){if(t&&("object"===ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pe(e)}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me=window.__APP__.createModule,Ce=window.__CORE__,ke=window.__APP__,je=ke.analytics,Ee=ke.utils.getIcon,Te=Me({type:"Plugin",description:"Measurement",create:function(e){return new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oe(e,t)}(s,e);var t,n,r,u=xe(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),Re(Pe(e=u.call(this,{name:"Measurement",comment:"Measurement",description:"Measurement",displayIcon:Ee("viewer-measurements-16","measurements-16"),localType:"primary",hint:"Measure",order:0,owner:"PCBView,GerberView",view:{type:"modal",title:"Measurements",config:{type:"aside-right",hasCloseOnOutsideClick:!1}}})),"onWillMeasure",(function(t,n){e.savePrevious();var r=w();v({items:[],data:null}),y(),p(oe(n,r)),je.dispatchPanelsEvent("Measure",{action:r===a?"Object.First":"Point.First"})})),Re(Pe(e),"onDidMeasure",(function(t,n){var r=w();p(oe(n,r));var i=be(t,n.unit.name,n);i&&(v(i),e.isActive=!0,Ce.bus.emit("Measurement:showProjection",t),je.dispatchPanelsEvent("Measure",{action:r===a?"Object.Second":"Point.Second"}))})),Re(Pe(e),"onCancelMeasure",(function(t,n){!e.isActive&&y()})),Re(Pe(e),"onPreviousSelect",(function(t){var n=be(t.result.id,t.result.unit,t.result);e.savePrevious(),function(e){h.commit("setItems",e)}(t.items),v(n),Ce.bus.emit("Measurement:select",t.result.id)})),Re(Pe(e),"onChangeMode",(function(t){var n,r;n=t.id,r=h.state.modes.map((function(e){return c(c({},e),{},{isActive:e.id===n})})),h.commit("setActiveMode",n),h.commit("setModes",r),(e.previousMode===a&&t.id!==a||e.previousMode!==a&&t.id===a)&&(e.savePrevious(),v({items:[],data:null}),y());var i=t.id===o;Ce.bus.emit("Snapping:setOptions",{enabled:i}),je.dispatchPanelsEvent("Measure",{action:"Snapping.".concat(i?"On":"Off")}),e.previousMode=t.id})),Re(Pe(e),"savePrevious",(function(){var t;e.isActive&&(e.isActive=!1,(t=h.state).previous.some((function(e){return e.result.id===t.result.data.id}))||(6===t.previous.length&&h.commit("slicePrevious"),h.commit("addPrevious",{items:t.items,result:t.result.data})))})),e.isHidden=!0,e.previousMode=null,Ce.bus.on("View:activate",(function(e){var t=e.name;!function(e){h.commit("setActiveView",e)}(t),te.e.has(t)||Ce.bus.emit("Measurement:disable")})),te.e.forEach((function(t,n){Ce.bus.on("".concat(te.e.get(n),":afterImportPCB"),(function(){return e.showPlugin()}))})),Ce.bus.on("HelpPanel:changeUnit",(function(e){g(e)})),y(),e}return t=s,(n=[{key:"hidden",get:function(){return this.isHidden}},{key:"events",get:function(){return["Measurement:activate","Measurement:deactivate","Measurement:clear","Measurement:clearAll","Measurement:showProjection","Measurement:hideProjection","Measurement:select","Measurement:setStyle","Measurement:previousSelect","Measurement:changeMode"]}},{key:"setup",value:function(){return Ce.bus.emit("Snapping:setOptions",{enabled:!1}),this.setEnabledModes(),Promise.resolve()}},{key:"activate",value:function(){var e;this.hasView||(this.hasView=!0,this.view=(e=this.metaInfo.name,new ee.library.Vue({store:O,data:{afsConfig:window.__APP__.afsConfig},render:function(e){return e(K)}}).$mount("#".concat(e)))),this.subscribeEvents(m()),Ce.bus.emit("DetailsPanel:disable"),Ce.bus.emit("Select:disable"),Ce.bus.emit("Measurement:activate"),this.setCursor(!0)}},{key:"deactivate",value:function(){this.savePrevious(),this.unsubscribeEvents(m()),Ce.bus.emit("Measurement:deactivate"),this.setCursor(!1)}},{key:"setCursor",value:function(e){te.e.forEach((function(t,n){(n=document.querySelector('[data-view="'.concat(n,'"]')))&&(n.style.cursor=e?"none":"default")}))}},{key:"showPlugin",value:function(){this.isHidden=!1,Ce.bus.emit("Measurement:updateInterface",{hidden:!1})}},{key:"subscribeEvents",value:function(e){var t=te.e.get(e);Ce.bus.on("".concat(t,":willMeasure"),this.onWillMeasure),Ce.bus.on("".concat(t,":didMeasure"),this.onDidMeasure),Ce.bus.on("".concat(t,":cancelMeasure"),this.onCancelMeasure),Ce.bus.on("Measurement:previousSelect",this.onPreviousSelect),Ce.bus.on("Measurement:changeMode",this.onChangeMode)}},{key:"unsubscribeEvents",value:function(e){var t=te.e.get(e);Ce.bus.off("".concat(t,":willMeasure"),this.onWillMeasure),Ce.bus.off("".concat(t,":didMeasure"),this.onDidMeasure),Ce.bus.off("".concat(t,":cancelMeasure"),this.onCancelMeasure),Ce.bus.off("Measurement:previousSelect",this.onPreviousSelect)}},{key:"setEnabledModes",value:function(){var e;e=Object.keys(Ce.plugins).includes("Snapping")?[i,o,a]:[],h.commit("setEnabledModes",e)}}])&&we(t.prototype,n),r&&we(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(e))}});window.__CORE__&&window.__CORE__.addModule(Te)},124:function(e,t,n){"use strict";var r,i,o,a,u;function s(e){return 255&e}function c(e){switch(e){case o.Arc:return"Arc";case o.Pad:return"Pad";case o.Via:return"Via";case o.Track:return"Track";case o.Text:return"Text";case o.Fill:return"Fill";case o.Connection:return"Connection";case o.Net:return"Net";case o.Component:return"Component";case o.Poly:return"Poly";case o.Region:return"Region";case o.ComponentBody:return"ComponentBody";case o.Dimension:return"Dimension";case o.Coordinate:return"Coordinate";case o.Class:return"Class";case o.Rule:return"Rule";case o.FromTo:return"FromTo";case o.DifferentialPair:return"DifferentialPair";case o.Violation:return"Violation";case o.Embedded:return"Embedded";case o.EmbeddedBoard:return"EmbeddedBoard";case o.SplitPlane:return"SplitPlane";case o.Trace:return"Trace";case o.SpareVia:return"SpareVia";case o.Board:return"Board";case o.BoardOutline:return"BoardOutline";case o.Last:return"Last";default:return"None"}}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return c})),function(e){e[e.None=0]="None",e[e.Temporal=1]="Temporal",e[e.Supesampling=2]="Supesampling"}(r||(r={})),function(e){e[e.FocusAnimation=0]="FocusAnimation",e[e.StartingPositionAnimation=1]="StartingPositionAnimation"}(i||(i={})),function(e){e[e.None=0]="None",e[e.Arc=1]="Arc",e[e.Pad=2]="Pad",e[e.Via=3]="Via",e[e.Track=4]="Track",e[e.Text=5]="Text",e[e.Fill=6]="Fill",e[e.Connection=7]="Connection",e[e.Net=8]="Net",e[e.Component=9]="Component",e[e.Poly=10]="Poly",e[e.Region=11]="Region",e[e.ComponentBody=12]="ComponentBody",e[e.Dimension=13]="Dimension",e[e.Coordinate=14]="Coordinate",e[e.Class=15]="Class",e[e.Rule=16]="Rule",e[e.FromTo=17]="FromTo",e[e.DifferentialPair=18]="DifferentialPair",e[e.Violation=19]="Violation",e[e.Embedded=20]="Embedded",e[e.EmbeddedBoard=21]="EmbeddedBoard",e[e.SplitPlane=22]="SplitPlane",e[e.Trace=23]="Trace",e[e.SpareVia=24]="SpareVia",e[e.Board=25]="Board",e[e.BoardOutline=26]="BoardOutline",e[e.Last=27]="Last"}(o||(o={})),function(e){e[e.None=0]="None",e[e.Arc=1]="Arc",e[e.Pad=2]="Pad",e[e.Via=3]="Via",e[e.Track=4]="Track",e[e.Text=5]="Text",e[e.Fill=6]="Fill",e[e.Connection=7]="Connection",e[e.Net=8]="Net",e[e.Component=9]="Component",e[e.Poly=10]="Poly",e[e.LinearDimension=11]="LinearDimension",e[e.AngularDimension=12]="AngularDimension",e[e.RadialDimension=13]="RadialDimension",e[e.LeaderDimension=14]="LeaderDimension",e[e.DatumDimension=15]="DatumDimension",e[e.BaselineDimension=16]="BaselineDimension",e[e.CenterDimension=17]="CenterDimension",e[e.OriginalDimension=18]="OriginalDimension",e[e.LinearDiameterDimension=19]="LinearDiameterDimension",e[e.RadialDiameterDimension=20]="RadialDiameterDimension",e[e.Coordinate=21]="Coordinate",e[e.Class=22]="Class",e[e.RuleClearance=23]="RuleClearance",e[e.RuleParallelSegment=24]="RuleParallelSegment",e[e.RuleMaxMinWidth=25]="RuleMaxMinWidth",e[e.RuleMaxMinLength=26]="RuleMaxMinLength",e[e.RuleMatchedLengths=27]="RuleMatchedLengths",e[e.RuleDaisyChainStubLength=28]="RuleDaisyChainStubLength",e[e.RulePowerPlaneConnectStyle=29]="RulePowerPlaneConnectStyle",e[e.RuleRoutingTopology=30]="RuleRoutingTopology",e[e.RuleRoutingPriority=31]="RuleRoutingPriority",e[e.RuleRoutingLayers=32]="RuleRoutingLayers",e[e.RuleRoutingCornerStyle=33]="RuleRoutingCornerStyle",e[e.RuleRoutingViaStyle=34]="RuleRoutingViaStyle",e[e.RulePowerPlaneClearance=35]="RulePowerPlaneClearance",e[e.RuleSolderMaskExpansion=36]="RuleSolderMaskExpansion",e[e.RulePasteMaskExpansion=37]="RulePasteMaskExpansion",e[e.RuleShortCircuit=38]="RuleShortCircuit",e[e.RuleBrokenNets=39]="RuleBrokenNets",e[e.RuleViasUnderSMD=40]="RuleViasUnderSMD",e[e.RuleMaximumViaCount=41]="RuleMaximumViaCount",e[e.RuleMinimumAnnularRing=42]="RuleMinimumAnnularRing",e[e.RulePolygonConnectStyle=43]="RulePolygonConnectStyle",e[e.RuleAcuteAngle=44]="RuleAcuteAngle",e[e.RuleConfinementConstraint=45]="RuleConfinementConstraint",e[e.RuleSMDToCorner=46]="RuleSMDToCorner",e[e.RuleComponentClearance=47]="RuleComponentClearance",e[e.RuleComponentRotations=48]="RuleComponentRotations",e[e.RulePermittedLayers=49]="RulePermittedLayers",e[e.RuleNetsToIgnore=50]="RuleNetsToIgnore",e[e.RuleSignalStimulus=51]="RuleSignalStimulus",e[e.RuleOvershootFallingEdge=52]="RuleOvershootFallingEdge",e[e.RuleOvershootRisingEdge=53]="RuleOvershootRisingEdge",e[e.RuleUndershootFallingEdge=54]="RuleUndershootFallingEdge",e[e.RuleUndershootRisingEdge=55]="RuleUndershootRisingEdge",e[e.RuleMaxMinImpedance=56]="RuleMaxMinImpedance",e[e.RuleSignalTopValue=57]="RuleSignalTopValue",e[e.RuleSignalBaseValue=58]="RuleSignalBaseValue",e[e.RuleFlightTimeRisingEdge=59]="RuleFlightTimeRisingEdge",e[e.RuleFlightTimeFallingEdge=60]="RuleFlightTimeFallingEdge",e[e.RuleLayerStack=61]="RuleLayerStack",e[e.RuleMaxSlopeRisingEdge=62]="RuleMaxSlopeRisingEdge",e[e.RuleMaxSlopeFallingEdge=63]="RuleMaxSlopeFallingEdge",e[e.RuleSupplyNets=64]="RuleSupplyNets",e[e.RuleMaxMinHoleSize=65]="RuleMaxMinHoleSize",e[e.RuleTestPointStyle=66]="RuleTestPointStyle",e[e.RuleTestPointUsage=67]="RuleTestPointUsage",e[e.RuleUnconnectedPin=68]="RuleUnconnectedPin",e[e.RuleSMDToPlane=69]="RuleSMDToPlane",e[e.RuleSMDNeckDown=70]="RuleSMDNeckDown",e[e.RuleLayerPair=71]="RuleLayerPair",e[e.RuleFanoutControl=72]="RuleFanoutControl",e[e.RuleMaxMinHeight=73]="RuleMaxMinHeight",e[e.RuleDifferentialPairs=74]="RuleDifferentialPairs",e[e.RuleHoleToHoleClearance=75]="RuleHoleToHoleClearance",e[e.RuleMinimumSolderMaskSliver=76]="RuleMinimumSolderMaskSliver",e[e.RuleSilkToSolderMaskClearance=77]="RuleSilkToSolderMaskClearance",e[e.RuleSilkToSilkClearance=78]="RuleSilkToSilkClearance",e[e.RuleNetAntennae=79]="RuleNetAntennae",e[e.FromTo=80]="FromTo",e[e.DifferentialPair=81]="DifferentialPair",e[e.Violation=82]="Violation",e[e.Board=83]="Board",e[e.BoardOutline=84]="BoardOutline",e[e.Group=85]="Group",e[e.Clipboard=86]="Clipboard",e[e.SplitPlane=87]="SplitPlane",e[e.EmbeddedBoard=88]="EmbeddedBoard",e[e.Region=89]="Region",e[e.ComponentBody=90]="ComponentBody",e[e.RuleAssyTestPointStyle=91]="RuleAssyTestPointStyle",e[e.RuleAssyTestPointUsage=92]="RuleAssyTestPointUsage",e[e.OwnerDraw=93]="OwnerDraw",e[e.DrillTable=94]="DrillTable",e[e.ViaStitching=95]="ViaStitching",e[e.LayerStackTable=96]="LayerStackTable",e[e.Viewport=97]="Viewport",e[e.BoardRegion=98]="BoardRegion",e[e.RuleSilkToBoardRegion=99]="RuleSilkToBoardRegion",e[e.AccordionObject=100]="AccordionObject",e[e.OLEObject=101]="OLEObject",e[e.RuleSMDPADEntry=102]="RuleSMDPADEntry",e[e.ViaShielding=103]="ViaShielding",e[e.RuleUnpouredPolygon=104]="RuleUnpouredPolygon",e[e.MultilineText=105]="MultilineText",e[e.RuleBoardOutlineClearance=106]="RuleBoardOutlineClearance",e[e.CoverlayPoly=107]="CoverlayPoly",e[e.PinPair=108]="PinPair",e[e.RuleBackDrilling=109]="RuleBackDrilling",e[e.StackedVia=110]="StackedVia",e[e.StaggeredVia=111]="StaggeredVia",e[e.Last=112]="Last"}(a||(a={})),function(e){e[e.eNoShape=0]="eNoShape",e[e.eRounded=1]="eRounded",e[e.eRectangular=2]="eRectangular",e[e.eOctagonal=3]="eOctagonal",e[e.eCircleShape=4]="eCircleShape",e[e.eArcShape=5]="eArcShape",e[e.eTerminator=6]="eTerminator",e[e.eRoundRectShape=7]="eRoundRectShape",e[e.eRotatedRectShape=8]="eRotatedRectShape",e[e.eRoundedRectangular=9]="eRoundedRectangular"}(u||(u={}))},125:function(e,t,n){"use strict";t.a=function(){return["","","-","-","-","-","","",""].reduce((function(e,t){return e+Math.floor(65536*(1+Math.random())).toString(16).substring(1)+t}))}},131:function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return O}));var r=n(99),i=n(92),o=n(51),a=n(52),u=n(102),s=n(101),c=n(46),l=n(203),f=n(135),d=n(157),h=n(80);function p(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=m((function e(t,n){b(this,e),g(this,"boxMin",void 0),g(this,"boxMax",void 0),this.boxMin=t,this.boxMax=n})),O=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,p=arguments.length>3?arguments[3]:void 0,y=arguments.length>4?arguments[4]:void 0,v=arguments.length>5?arguments[5]:void 0,m=arguments.length>6?arguments[6]:void 0;b(this,e),g(this,"resized",new i.a),g(this,"beforeRender",new i.a),g(this,"rendered",new i.a),g(this,"zoomToFitChanged",new i.a),g(this,"centerChanged",new i.a),g(this,"background",void 0),g(this,"hiddenNodes",[]),g(this,"layers",void 0),g(this,"polygonStringBuilder",void 0),g(this,"sceneRenderOptions",void 0),g(this,"module",void 0),g(this,"commonCore",void 0),g(this,"scene",void 0),g(this,"rootNode",void 0),g(this,"viewport_",void 0),g(this,"renderPath",void 0),g(this,"sceneMustDisposed",!1),g(this,"disposed",!1),g(this,"defZoom",7),g(this,"viewportZoom_",this.defZoom),g(this,"viewportCenter_",[0,0]),g(this,"viewportFlipped_",!1),g(this,"materials",void 0),g(this,"materialMap",void 0),g(this,"antiAliasingMethod",r.b.None),g(this,"fitFixedView_",void 0),g(this,"id_",void 0),g(this,"parentScene_",void 0),g(this,"logger",h.a.createLogger("Scene")),g(this,"clonedPolygons",new Map),this.id_=null!=m?m:"Default_Scene",v&&(this.parentScene_=v,this.parentScene_.resized.on((function(e){return t.resize(e.width,e.height)}))),this.background=l.a.BackgroundColor,this.logger.LogInfo("Resolve graphite module.");var w=(new d.a).init();if(this.module=w.module,this.commonCore=w.commonCore,this.logger.LogInfo("Initializing scene."),this.layers=o||a.a.createLayerArray(1),null!=n)return this.scene=n,void(this.rootNode=this.scene.GetRootNode().GetChild(0));this.sceneRenderOptions=p||c.h.createRenderOptions(this.layers),this.materials=s||[new u.b],this.materialMap=new u.d(this.materials);var O=new a.d(this.layers);this.scene=this.module.CreateScene(this.commonCore,this.materialMap,O),this.rootNode=this.scene.GetRootNode().AddChild(this.materialMap,O),this.sceneMustDisposed=!0,y&&(this.polygonStringBuilder=new f.c(y,this))}return m(e,[{key:"viewportZoom",get:function(){return this.isRoot?this.viewportZoom_:this.parentScene_.viewportZoom}},{key:"viewportCenter",get:function(){return this.isRoot?this.viewportCenter_:this.parentScene_.viewportCenter}},{key:"viewportFlipped",get:function(){return this.isRoot?this.viewportFlipped_:this.parentScene_.viewportFlipped}},{key:"viewport",get:function(){return this.isRoot?this.viewport_:this.parentScene_.viewport}},{key:"fitFixedView",get:function(){return this.isRoot?this.fitFixedView_:this.parentScene_.fitFixedView}},{key:"id",get:function(){return this.id_}},{key:"parentScene",get:function(){return this.parentScene_}},{key:"isRoot",get:function(){return null==this.parentScene}},{key:"antialiasing",get:function(){return this.antiAliasingMethod},set:function(e){this.scene.GetRenderSmoother().SelectMethod(e),this.antiAliasingMethod=e}},{key:"layerMap",get:function(){return this.rootNode.GetLayerMap()}},{key:"canvasHeight",get:function(){return this.module.canvas?this.module.canvas.height:300}},{key:"canvasWidth",get:function(){return this.module.canvas?this.module.canvas.width:300}},{key:"needRender",get:function(){return this.scene.NeedRender()}},{key:"getSystemScene",value:function(){return this.scene}},{key:"cameraController",get:function(){return this.viewport.DefaultCameraController()}},{key:"clear",value:function(e){e?this.background=e:e=this.background,this.renderPath&&this.commonCore.Clear(e)}},{key:"renderOptions",get:function(){return this.sceneRenderOptions},set:function(e){this.sceneRenderOptions=e,this.viewport.SetDirty(!0)}},{key:"getNodeItemById",value:function(e){return this.rootNode.GetNodeItemById(e)}},{key:"getNodeItemsByIds",value:function(e){return this.rootNode.GetNodeItemsByIds(e)}},{key:"getLayersCount",value:function(){return this.layers?this.layers.length:0}},{key:"setRectangle",value:function(e,t,n,r){this.viewport.SetRectangle([e,t,n,r]),this.resized.emit(new o.e(n,r))}},{key:"getRectangle",value:function(){return this.viewport.GetRectangle()}},{key:"getSize",value:function(){var e=this.getRectangle();return new o.e(e[2],e[3])}},{key:"resize",value:function(e,t){this.viewport.SetRectangle([0,0,e,t]),this.scene.Resize(e,t),this.resized.emit(new o.e(e,t))}},{key:"getForward",value:function(){return this.viewport.GetForward()}},{key:"getEye",value:function(){return this.viewport.GetEye()}},{key:"getAt",value:function(){return this.viewport.GetAt()}},{key:"getUp",value:function(){return this.viewport.GetUp()}},{key:"getView",value:function(){return this.viewport.GetView()}},{key:"getInverseView",value:function(){return this.viewport.GetInverseView()}},{key:"addPolygon",value:function(e){return this.scene.AddPolygon(e)}},{key:"addPolygonContours",value:function(e){return this.scene.AddPolygonContours(e)}},{key:"getPolygonGenerator",value:function(){return this.scene.GetPolygonGenerator()}},{key:"getPolygonByID",value:function(e){return this.scene.GetPolygonByID(e)}},{key:"addMesh",value:function(e){return this.scene.AddMesh(e)}},{key:"addItem",value:function(e,t,n,r,i,o,u){n=n||[],r=r||[],i=i||[],o=o||[],u=u||[];try{var s=new a.c(e,t,n,r,i,o),l=new c.g([s],u);return this.rootNode.AddItem(l)}catch(e){return this.logger.LogError("Add item error.",e),null}}},{key:"addNode",value:function(e,t){return this.addItem(e,t.unis,t.arcs,t.polygons,t.labels,t.lines,t.meshes)}},{key:"addNodeItem",value:function(e){return this.rootNode.AddItem(e)}},{key:"removeItem",value:function(e){e&&(this.getNodeItemById(e.GetId())&&this.rootNode.DeleteItem(e))}},{key:"deleteItem",value:function(e){e&&this.getNodeItemById(e.GetId())&&this.rootNode.DeleteItem(e)}},{key:"deleteItems",value:function(e){this.rootNode.DeleteItems(e)}},{key:"deleteItemsByIds",value:function(e){this.rootNode.DeleteItemsByIds(e)}},{key:"updateRootNode",value:function(e){this.rootNode=e}},{key:"updateMaterials",value:function(e){e&&(this.materials=e),this.materialMap=new u.d(this.materials),this.rootNode.UpdateMaterialMap(this.materialMap)}},{key:"updateMaterialMap",value:function(e){null!=e&&(this.materialMap=e),this.rootNode.UpdateMaterialMap(this.materialMap)}},{key:"setMaterials",value:function(e){this.materials=e.slice();var t={Name:this instanceof c.k?"3DMaterials":"2DMaterials",Materials:this.materials,CustomData:""};this.materialMap=t,this.rootNode.SetMaterialMap(t)}},{key:"getMaterials",value:function(){return this.materials}},{key:"setMaterialMap",value:function(e){this.materials&&0!=this.materials.length||(this.materials=e.Materials.slice()),this.materialMap=e,this.rootNode.SetMaterialMap(e)}},{key:"getMaterialMap",value:function(){return this.rootNode.GetMaterialMap()}},{key:"toArrayMaterials",value:function(e){for(var t=[],n=e.GetMaterialsCount(),r=0;r<n;r++){var i=u.b.Clone(e.GetMaterial(r));t[r]=i}return t}},{key:"addMaterial",value:function(e){var t=this.materials?this.materials:this.toArrayMaterials(this.getMaterialMap()),n=t.push(e)-1;return this.materials=t,this.setMaterials(this.materials),this.emitAddedMaterial(n,t),n}},{key:"removeMaterial",value:function(e){var t=this.materials?this.materials:this.toArrayMaterials(this.getMaterialMap()),n=t.findIndex((function(t){return t===e}));n>=0&&t.splice(n,1),this.setMaterials(this.materials),this.emitRemovedMaterial(e,this.materials)}},{key:"setZoomRatio",value:function(e){var t=this.getZoom()*e;this.setZoom(t)}},{key:"setDirty",value:function(e){this.viewport.SetDirty(e)}},{key:"getBoxForLayers",value:function(){var e=this.renderOptions.map((function(e){return e.layer}));return this.rootNode.GetBoxForLayers(e)}},{key:"getBoundingBoxForItem",value:function(e){return this.rootNode.GetItemBBox(e)}},{key:"cloneNodeItemToLayerToAnotherScene",value:function(e,t,n,r,i){var o=this;if(!t)return t;for(var u=[],l=function(){if(r<0)return null;var t=e.getMaterialMap().GetMaterial(r);return t?t.Diffuse:null}(),f=function(i){var c,f,d,h,y=t.GetLayerGeometry(i);if(!y)return"continue";var v,m=(v=y.GetLayerIndex(),n<0?new a.c(v):(0===u.length&&u.push(new a.c(n)),u[0])),b=Array.from(Array(y.GetArcsCount()).keys()).map((function(e){return y.GetArc(e)})).filter((function(e){return e})).map((function(e){return new s.a(e.center,e.angles,e.radius,e.width,r<0?e.material:r,e.z)}));m.arcsArray?(c=m.arcsArray).push.apply(c,p(b)):m.arcsArray=b;var g=Array.from(Array(y.GetLinesCount()).keys()).map((function(e){return y.GetLine(e)})).filter((function(e){return e})).map((function(e){return new s.c(e.from,e.to,null!=l?l:e.color,e.width,e.dash)}));m.linesArray?(f=m.linesArray).push.apply(f,p(g)):m.linesArray=g;var w=Array.from(Array(y.GetPolysCount()).keys()).map((function(e){return y.GetPoly(e)})).filter((function(e){return e})).map((function(t){return new s.f(o.clonePolygon(e,t.polygon),t.position,r<0?t.material:r,t.z,t.angle,t.scale)}));m.polygonsArray?(d=m.polygonsArray).push.apply(d,p(w)):m.polygonsArray=w;var O=Array.from(Array(y.GetUnisCount()).keys()).map((function(e){return y.GetUni(e)})).filter((function(e){return e})).map((function(e){return new s.g(e.position,e.direction,e.size,e.radius,r<0?e.material:r,e.z)}));m.unisArray?(h=m.unisArray).push.apply(h,p(O)):m.unisArray=O},d=0;d<t.GetLayersCount();d++)f(d);if(i)throw new Error("Not Implemented");return e.rootNode.AddItem(new c.g(u,[]))}},{key:"cloneNodeItemToLayer",value:function(e,t,n,r,i){return i&&i!==this?this.cloneNodeItemToLayerToAnotherScene(i,e,t,n,!1):this.rootNode.CloneToLayer(e,t,n,r)}},{key:"cloneNodeItemToMultiLayers",value:function(e,t,n){return this.rootNode.CloneToMultiLayers(e,t,n)}},{key:"cloneNodeItemsToMultiLayers",value:function(e,t,n){return this.rootNode.CloneNodesToMultiLayers(e,t,n)}},{key:"cloneNodeItemsToMultiLayersByIds",value:function(e,t,n){return this.rootNode.CloneNodesToMultiLayersByIds(e,t,n)}},{key:"setNodeItemsVisibility",value:function(e,t){this.rootNode.SetNodeItemsVisibility(e,t),this.hiddenNodes=this.hiddenNodes.filter((function(t){return!e.includes(t)})),t||(this.hiddenNodes=[].concat(p(this.hiddenNodes),p(e)))}},{key:"dispose",value:function(){this.disposed||(this.sceneMustDisposed&&this.scene.delete(),this.disposed=!0)}},{key:"emitAddedMaterial",value:function(e,t){var n=this instanceof c.k?"GraphiteEngine:addedMaterial3d":"GraphiteEngine:addedMaterial2d";h.a.bus.emit(n,e,t)}},{key:"emitRemovedMaterial",value:function(e,t){var n=this instanceof c.k?"GraphiteEngine:removedMaterial3d":"GraphiteEngine:removedMaterial2d";h.a.bus.emit(n,e,t)}},{key:"clonePolygon",value:function(e,t){var n=this.clonedPolygons.get(e.id);n||(n=new Map,this.clonedPolygons.set(e.id,n));var r=n.get(t);if(r)return r;var i=this.scene.GetPolygonByID(t),o=new s.d;return i&&(o.outlineIndices=p(i.GetOutlineIndices()),o.indices=p(i.GetFillIndices()),o.vertices=p(i.GetVertices().map((function(e){return e.position})))),r=e.addPolygon(o),n.set(t,r),r}}]),e}()},132:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}));var a=function(){function e(t,n,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];r(this,e),o(this,"Diffuse",void 0),o(this,"Hatching",void 0),o(this,"Bordered",void 0),o(this,"OnTop",void 0),o(this,"GrayscaleMesh",void 0),this.Diffuse=t||[0,0,0,255],this.Hatching=n||0,this.Bordered=i||!1,this.OnTop=a,this.GrayscaleMesh=u}var t,n,a;return t=e,a=[{key:"Clone",value:function(t){return new e(t.Diffuse,t.Hatching,t.Bordered)}},{key:"create",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new e(t,n,r,i,o)}},{key:"toArrayMaterials",value:function(t){for(var n=[],r=t.GetMaterialsCount(),i=0;i<r;i++){var o=e.Clone(t.GetMaterial(i));n[i]=o}return n}}],(n=null)&&i(t.prototype,n),a&&i(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}()},135:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return S})),n.d(t,"g",(function(){return x}));var a=i((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"fontSymbols",{}),o(this,"fontDataView",void 0)}));function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o(a,"cachedFont",void 0);var f=s((function e(t,n){c(this,e),l(this,"offset",void 0),l(this,"advance",void 0),this.offset=t,this.advance=n})),d=function(){function e(){c(this,e),l(this,"fontData",new a)}return s(e,[{key:"getFontData",value:function(){return this.fontData}},{key:"isLoaded",get:function(){return!(!this.fontData.fontSymbols||!this.fontData.fontDataView)}},{key:"requestPolygonFont",value:function(e,t){var n=this;fetch(e,{method:"GET"}).then((function(e){if(!e.ok)throw new Error("PolygonFont load HTTP error, status = "+e.status);return e.arrayBuffer()})).then((function(e){n.loadPolygonFont(e),console.log("Font loaded."),t(n.fontData)}))}},{key:"loadPolygonFont",value:function(e){this.fontData.fontDataView=new DataView(e);var t=this.fontData.fontDataView.getUint32(0,!0);console.log("Symbols: "+t);for(var n=0;n<t;++n){var r=this.fontData.fontDataView.getUint32(4+12*n,!0),i=String.fromCharCode(r),o=this.fontData.fontDataView.getUint32(8+12*n,!0),a=this.fontData.fontDataView.getFloat32(12+12*n,!0);this.fontData.fontSymbols[i]=new f(o,a)}}}]),e}(),h=n(99),p=n(101);function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m,b=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"scene",void 0),v(this,"fontSymbols",void 0),v(this,"fontDataView",void 0),v(this,"module",void 0),t.fontDataView&&t.fontSymbols||console.error("Font data not initialized.");var r=(new h.c).init();this.module=r.module,this.scene=n,this.fontSymbols=t.fontSymbols,this.fontDataView=t.fontDataView}var t,n,r;return t=e,(n=[{key:"getStringWidth",value:function(e,t){for(var n=0,r=0;r<e.length;++r){var i=e.charAt(r),o=this.fontSymbols[i];o&&(n+=o.advance*t.size*t.spacing)}return n}},{key:"createPolygonString",value:function(e,t){var n=[];t.flipped&&(t.size=-t.size,t.height=-t.height);var r=Math.sin(t.angle),i=Math.cos(t.angle);if(t.align!=m.Right){var o=this.getStringWidth(e,t);t.x+=.5*(t.align-1)*o*i,t.y+=.5*(t.align-1)*o*r}var a=t.baseline/100;t.x-=a*t.size*t.height*1.431641*-r,t.y-=a*t.size*t.height*1.431641*i;for(var u=0;u<e.length;++u){var s=this.createPolygonSymbol(e.charAt(u),t);s&&n.push(s)}return n}},{key:"pixelsToUnits",value:function(e){return e*this.scene.getZoom()/this.module.canvas.height}},{key:"unitsToPixels",value:function(e){return e*this.module.canvas.height/this.scene.getZoom()/2}},{key:"createPolygonSymbol",value:function(e,t){var n=this.fontSymbols[e];if(null==n)return console.log("Symbol "+e+" ("+e.charCodeAt(0)+") not found"),null;var r=this.scene.getPolygonGenerator().GetPolygon(e.charCodeAt(0));if(0==r){var i=n.offset,o=this.fontDataView.getUint32(i,!0);if(0!=o){var a=[];i+=4;for(var u=0;u<o;++u)a.push([this.fontDataView.getFloat32(i+0,!0),this.fontDataView.getFloat32(i+4,!0)]),i+=8;var s=this.fontDataView.getUint32(i,!0),c=[];i+=4;for(var l=0;l<s;++l)c.push(this.fontDataView.getUint32(i,!0)),i+=4;var f=this.fontDataView.getUint32(i,!0),d=[];i+=4;for(var h=0;h<f;++h)d.push(this.fontDataView.getUint32(i,!0)),i+=4;r=this.scene.getPolygonGenerator().GeneratePolygon(e.charCodeAt(0),a,c,d)}}var y=t.angle,v=Math.sin(y),m=Math.cos(y),b=[t.x,t.y];t.x+=n.advance*t.size*t.spacing*m,t.y+=n.advance*t.size*t.spacing*v;var g=[t.size,t.size*t.height];return 0==r?null:new p.f(r,b,t.material,[0,0],y,g)}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){e[e.Left=-1]="Left",e[e.Center=0]="Center",e[e.Right=1]="Right"}(m||(m={}));var x,S=w((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:m.Right,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,l=arguments.length>9&&void 0!==arguments[9]&&arguments[9],f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:x.Alphabetic;O(this,e),this.x=t,this.y=n,this.size=r,this.height=i,this.spacing=o,this.angle=a,this.align=u,this.layer=s,this.material=c,this.flipped=l,this.baseline=f}));!function(e){e[e.Top=100]="Top",e[e.Middle=50]="Middle",e[e.Alphabetic=0]="Alphabetic",e[e.Bottom=-27]="Bottom"}(x||(x={}))},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var r,i=window.__CORE__;!function(e){e[e.Json=0]="Json",e[e.Binary=1]="Binary",e[e.BinaryZip=2]="BinaryZip",e[e.SceneBinZipStream=3]="SceneBinZipStream",e[e.SceneBinZipFile=4]="SceneBinZipFile"}(r||(r={}))},14:function(e,t,n){"use strict";var r=n(35);t.a={inserted:function(e,t,n){var i=t.arg,o=void 0===i?void 0:i,a=t.value,u=void 0===a?void 0:a,s=n.context,c=void 0===s?void 0:s;(o||u?document.getElementById(o||u):document.body).appendChild(e),c.$on("hook:beforeDestroy",(function(){Object(r.a)(this.$parent.$el)&&this.$parent.$el.appendChild(this.$el)}))}}},15:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return f}));var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(c,e);var t,n,r,u=a(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),l(s(n=u.call(this)),"state",void 0),l(s(n),"prevstate_",void 0),l(s(n),"scheme",void 0),l(s(n),"dataTransfer",void 0),n.state=e,n.prevstate_=e,n.scheme=t,n.dataTransfer={},n.on(c.TRANSITION_EVENT,(function(e){return n.emit(n.state,e)})),n.on(c.ERROR_EVENT,(function(e){return n.emit(n.state,e)})),n}return t=c,(n=[{key:"isFsm",get:function(){return!0}},{key:"isActive",get:function(){return this.state in this.scheme}},{key:"getState",value:function(){return this.state}},{key:"prevstate",get:function(){return this.prevstate_}},{key:"setDataTransfer",value:function(e){this.dataTransfer=Object.assign(this.dataTransfer,e)}},{key:"clearDataTransfer",value:function(){this.dataTransfer={}}},{key:"dispatch",value:function(e){var t=this;if(this.isActive){var n=this.scheme[this.state].find((function(n){return n.where(Object.assign(e,t.dataTransfer)).every((function(e){return e}))}));return!!n&&(this.prevstate_=this.state,this.state=n.to,n.error?this.emit(c.ERROR_EVENT,e):this.emit(c.TRANSITION_EVENT,e),!0)}return!1}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(n(37).a);l(f,"TRANSITION_EVENT","#Transition"),l(f,"ERROR_EVENT","#Error")},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(15),i=n(28),o=n(80);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={where:function(e){return["Resolve"===e.type]},to:"PENDING"},v={IDLE:[y],PENDING:[y,{where:function(e){return["Complete"===e.type]},to:"COMPLETED"},{where:function(e){return["Error"===e.type]},to:"CRASHED",error:!0}]},m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(h,e);var t,n,r,a=l(h);function h(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),p(d(e=a.call(this,"IDLE",v)),"module",void 0),p(d(e),"commonCore",void 0),p(d(e),"isInitialized",!1),p(d(e),"onPending",function(){var t,n=(t=regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.resolveModulePathByUrl("./js/graphite.js");case 3:return o.a.bus.emit("GraphiteEngine:afterGraphiteLoad","./js/graphite.js"),t.prev=4,t.next=7,Promise.resolve(window.GraphiteModule);case 7:e.module=t.sent,window.GraphiteModule=e.module,o.a.bus.emit("GraphiteEngine:beforeGraphiteInit",e.module),e.commonCore=e.module.Initialize(),e.module.LoadComplete=!0,e.isInitialized=!0,o.a.bus.emit("GraphiteEngine:afterGraphiteInit",{module:e.module,commonCore:e.commonCore}),e.dispatch(new i.b("Complete",{graphiteResolver:d(e)})),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(4),"string"==typeof t.t0?e.dispatch(new i.a("Load Graphite module error. "+t.t0)):e.dispatch(new i.a("Load Graphite module error.",t.t0));case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(0),"string"==typeof t.t1?e.dispatch(new i.a("Resolve Graphite module error. "+t.t1)):e.dispatch(new i.a("Resolve Graphite module error.",t.t1));case 25:case"end":return t.stop()}}),t,null,[[0,22],[4,17]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}()),window["GraphiteResolver.instance"]?f(e,window["GraphiteResolver.instance"]):(e.on("PENDING",e.onPending),window["GraphiteResolver.instance"]=d(e),e)}return t=h,(n=[{key:"resolveModulePathByUrl",value:function(e){return new Promise((function(t,n){o.a.bus.emit("GraphiteEngine:beforeGraphiteLoad",e);var r=document.createElement("script");r.src=e,r.async=!0,r.onload=t,r.onerror=n,document.getElementsByTagName("body")[0].appendChild(r)}))}},{key:"init",value:function(){var e=this;return this.isInitialized||setTimeout((function(){return e.dispatch(new i.b("Resolve",{moduleName:"GraphiteModule"}))})),this}}])&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),h}(r.a);p(m,"instance",void 0)},158:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}));var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,e),o(this,"height",void 0),o(this,"width",void 0),this.width=t,this.height=n}var t,n,a;return t=e,a=[{key:"empty",value:function(){return new e}},{key:"add",value:function(t,n){return new e(t.width+n.width,t.height+n.height)}},{key:"subtract",value:function(t,n){return new e(t.width-n.width,t.height-n.height)}},{key:"truncate",value:function(t){return new e(this.trunc(t.width),this.trunc(t.height))}},{key:"trunc",value:function(e){return e>0?Math.floor(e):Math.ceil(e)}}],(n=[{key:"add",value:function(e){return this.width+=e.width,this.height+=e.height,this}},{key:"subtract",value:function(e){return this.width-=e.width,this.height-=e.height,this}},{key:"equals",value:function(e){return this.width==e.width&&this.height==e.height}},{key:"truncate",value:function(){return this.width=e.trunc(this.width),this.height=e.trunc(this.height),this}},{key:"toString",value:function(){return"{width="+this.width+", height="+this.height+"}"}},{key:"isEmpty",value:function(){return 0==this.height&&0==this.width}}])&&i(t.prototype,n),a&&i(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}()},164:function(e,t,n){"use strict";n(107)},173:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return o}));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"toRgbaArray",value:function(e){if(!e)return this.defaultColor;if("#"===e[0]){var t=this.hexToRgb(e);return t.push(255),t}var n=e.indexOf("rgb(");if(n>-1){var r=e.substring(n).split(",");return[parseInt(r[0].substring(4).trim(),10),parseInt(r[1].trim(),10),parseInt(r[2].substring(0,r[2].length-1).trim(),10),255]}return(n=e.indexOf("rgba("))>-1?(r=e.substring(n).split(","),[parseInt(r[0].substring(5).trim(),10),parseInt(r[1].trim(),10),parseInt(r[2].trim(),10),255*parseFloat(r[3].substring(0,r[3].length-1).trim())|0]):this.defaultColor}},{key:"hexToRgb",value:function(e){return e=this.normalizeHex(e),[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]}},{key:"normalizeHex",value:function(e){return 4==e.length&&(e=e.replace(this.hexTripletRe,"#$1$1$2$2$3$3")),e.toLowerCase()}},{key:"toGrayscale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:77,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:151,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:28,i=[255,255,255,255];if("string"==typeof e&&(i=this.toRgbaArray(e)),!Array.isArray(e))return i;i=e;var o=Math.min(i[0]*t+i[1]*n+i[2]*r>>8,255);return i=[o,o,o,i[3]]}},{key:"rgbaToHex",value:function(e){var t="#";if("string"==typeof e){var n=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);if(!n)return e;var r=(n&&n[4]||"").trim();return t=t+(256|Number(n[1])).toString(16).slice(1)+(256|Number(n[2])).toString(16).slice(1)+(256|Number(n[3])).toString(16).slice(1),t+=(255*(""!==r?Number(r):1)|256).toString(16).slice(1)}return t=t+(256|e[0]).toString(16).slice(1)+(256|e[1]).toString(16).slice(1)+(256|e[2]).toString(16).slice(1),t+=(256|e[3]).toString(16).slice(1)}}],(n=null)&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();i(o,"hexTripletRe",/#(.)(.)(.)/),i(o,"defaultColor",[0,0,0,255])},2:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n(1);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(e){return e?"is-".concat(e,"-theme"):"is-dark-theme"},a=function(e,t){return"".concat(e,"__").concat(t)},u=function(e,t){var n;return i(n={},"".concat(e,"_radius-tl"),-1!==t.indexOf(r.d.tl)),i(n,"".concat(e,"_radius-tr"),-1!==t.indexOf(r.d.tr)),i(n,"".concat(e,"_radius-bl"),-1!==t.indexOf(r.d.bl)),i(n,"".concat(e,"_radius-br"),-1!==t.indexOf(r.d.br)),n}},203:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}));var a=i((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));o(a,"BackgroundColor",[.18,.18,.18,.5]),o(a,"DegreesToRadians",Math.PI/180),o(a,"ViewportFov",45)},21:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==n(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(i,o,function(t){return e[t]}.bind(null,o));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==n(Symbol.iterator)?(e.exports=r=function(e){return n(e)},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},e.exports.default=e.exports,e.exports.__esModule=!0),r(t)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=(window,function(e){return"function"==typeof e}),a=function(e){return window.__afsComponents&&window.__afsComponents[e]};t.default={inserted:function(e,t){var n=t.arg,r=t.value,u="object"===i()(r)&&null!==r&&!Array.isArray(r),s="ontouchstart"in window,c=!(u&&o(r.shouldBeInserted))||r.shouldBeInserted(e);if(!s&&c){var l=u?r.id:n,f=null;e.dataset.afsHintControl=l;var d=function(t){var n=a(l);if(n){var i=u&&o(r.onOpen);i&&n.on&&n.on("open",r.onOpen),n.open(e,t),i&&n.off&&n.off("open",r.onOpen)}};e.addEventListener("mousemove",(function(e){f&&clearTimeout(f);var t=a(l);!u||r.noDelay||t&&(!t||t.showImmediately())?d(e):f=setTimeout((function(){return d(e)}),r.delay||1e3)}),!1),e.addEventListener("mouseleave",(function(t){f&&clearTimeout(f);var n=a(l);if(n){var i=u&&o(r.onClose);i&&n.on&&n.on("close",r.onClose),n.close(e),i&&n.off&&n.off("close",r.onClose)}}),!1)}}}}])},220:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}));var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r(this,e),o(this,"x",void 0),o(this,"y",void 0),o(this,"z",void 0),this.x=t,this.y=n,this.z=i}var t,n,a;return t=e,(n=[{key:"isEmpty",get:function(){return 0==this.x&&0==this.y&&0==this.z}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}}])&&i(t.prototype,n),a&&i(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}()},221:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c}));var u=i((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o(this,e),a(this,"vertices",void 0),a(this,"indices",void 0),a(this,"GetVertices",(function(){return this.vertices})),a(this,"GetIndices",(function(){return this.indices})),this.vertices=t||[],this.indices=n||[]})),s=i((function e(t,n,r){o(this,e),a(this,"position",void 0),a(this,"normal",void 0),a(this,"color",void 0),this.position=t,this.normal=n,this.color=r})),c=i((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;o(this,e),a(this,"mesh_id",void 0),a(this,"position",void 0),a(this,"rotation",void 0),a(this,"scale",void 0),a(this,"angle",void 0),a(this,"material",void 0),a(this,"matrix",void 0),this.mesh_id=t,this.material=n,this.position=i||[0,0,0],this.rotation=u||[1,1,1],this.scale=s||[1,1,1],"number"==typeof r?(this.angle=r,this.matrix=[]):(this.matrix=r,this.angle=0)}))},230:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}));var a=i((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"listeners",[]),o(this,"listenersOncer",[]),o(this,"on",(function(e){return t.listeners.push(e),{dispose:function(){return t.off(e)}}})),o(this,"once",(function(e){t.listenersOncer.push(e)})),o(this,"off",(function(e){var n=t.listeners.indexOf(e);n>-1&&t.listeners.splice(n,1)})),o(this,"emit",(function(e){t.listeners.forEach((function(t){return t(e)})),t.listenersOncer.forEach((function(t){return t(e)})),t.listenersOncer=[]})),o(this,"pipe",(function(e){return t.on((function(t){return e.emit(t)}))}))}))},232:function(e,t,n){"use strict";t.a=function(e){return 255&e}},242:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}));var a=i((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));o(a,"SelectionLayerName","Selection Layer"),o(a,"HighlightLayerName","Highlight layer")},244:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return u}));var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"unis",[]),a(this,"arcs",[]),a(this,"polygons",[]),a(this,"labels",[]),a(this,"lines",[]),a(this,"meshes",[])}var t,n,i;return t=e,(n=[{key:"isEmpty",get:function(){return!(this.unis.length||this.arcs.length||this.polygons.length||this.labels.length||this.lines.length||this.meshes.length)}},{key:"add",value:function(e){var t,n,i,o,a,u;e.unis.length&&(t=this.unis).push.apply(t,r(e.unis)),e.arcs.length&&(n=this.arcs).push.apply(n,r(e.arcs)),e.polygons.length&&(i=this.polygons).push.apply(i,r(e.polygons)),e.labels.length&&(o=this.labels).push.apply(o,r(e.labels)),e.lines.length&&(a=this.lines).push.apply(a,r(e.lines)),e.meshes.length&&(u=this.meshes).push.apply(u,r(e.meshes))}},{key:"clear",value:function(){this.unis.length=0,this.arcs.length=0,this.polygons.length=0,this.labels.length=0,this.lines.length=0,this.meshes.length=0}}])&&o(t.prototype,n),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},245:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}));var a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(this,e),o(this,"geometries",void 0),o(this,"meshParts",void 0),o(this,"GetLayersCount",(function(){return this.geometries.length})),o(this,"GetLayerGeometry",(function(e){return void 0!==e?this.geometries[e]:this.geometries})),o(this,"GetMeshParts",(function(){return this.meshParts})),o(this,"GetMeshesCount",(function(){return this.meshParts.length})),o(this,"GetMesh",(function(e){return this.meshParts[e]})),this.geometries=t,this.meshParts=n||[]}var t,n,a;return t=e,(n=[{key:"GetId",value:function(){return-1}},{key:"SetGrayscaleMeshes",value:function(e){throw new Error("Method not supported on JS side (only WASM).")}},{key:"ResetGrayscaleMeshes",value:function(){throw new Error("Method not supported on JS side (only WASM).")}},{key:"SetMeshesMaterialShift",value:function(e){throw new Error("Method not supported on JS side (only WASM).")}},{key:"delete",value:function(){}}])&&i(t.prototype,n),a&&i(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}()},27:function(e,t,n){"use strict";var r=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",this._g({class:this.classList},this.$listeners),[t("use",{attrs:{"xlink:href":this.href}})])};r._withStripped=!0;var i=n(4),o={name:"AfsIcon",props:{name:{type:String,default:""},filled:{type:Boolean,default:!1}},computed:{classList:function(){return"icon icon-".concat(this.name)},href:function(){var e=Object(i.a)(this.$root),t=e.assets?"/"===e.assets.slice(-1)?e.assets.slice(0,-1):e.assets:"/assets";return this.filled?"".concat(t,"/images/afs-svg-sprite-filled.svg#").concat(this.name):"".concat(t,"/images/afs-svg-sprite.svg#").concat(this.name)}}},a=(n(48),n(0)),u=Object(a.a)(o,r,[],!1,null,null,null);u.options.__file="WebUI/VueJsComponentLibrary/src/components/Icon/App.vue";t.a=u.exports},28:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){var t="function"==typeof Map?new Map:void 0;return(c=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return l(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,e)})(e)}function l(e,t,n){return(l=f()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&d(i,n.prototype),i}).apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return v}));var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(o,e);var t,n,r=(t=o,n=f(),function(){var e,r=h(t);if(n){var i=h(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return u(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return i(this,o),p(s(t=r.call(this,e)),"type",void 0),p(s(t),"innerError",void 0),t.type="Error",t.innerError=n,t}return a(o,[{key:"toString",value:function(){return this.message}}]),o}(c(Error)),v=a((function e(t,n){i(this,e),p(this,"type",void 0),p(this,"payload",void 0),this.type=t,this.payload=n||{}}))},280:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return y}));var r,i=n(51),o=n(46),a=n(131);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.Front=0]="Front",e[e.Back=1]="Back"}(r||(r={}));var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(f,e);var t,n,a,u=l(f);function f(e,t,n,r,i,o,a){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),p(d(s=u.call(this,e,t,n,r,i,o,a)),"showRotationBall",!1),p(d(s),"viewportQuat",window.quat.create()),p(d(s),"viewportAt",window.vec3.create()),p(d(s),"viewportOffset",10),p(d(s),"viewportNear",1.2),p(d(s),"viewportFar",700),p(d(s),"rotationSensitivity",.005*Math.PI),s.viewport||(s.viewport_=s.module.canvas?s.scene.AddViewport([0,0,s.canvasWidth,s.canvasHeight]):s.scene.AddViewport([0,0,300,300])),s.renderPath=s.scene.CreateRenderPath(),s.updatePerspectiveMatrix(),s.setZoom(.4),s.logger.LogInfo("".concat(o?"Overlay":"Main"," 3D [").concat(s.id,"] scene successfully initialized.")),s}return t=f,(n=[{key:"render",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&this.clear(),this.renderScene()}},{key:"renderScene",value:function(){this.beforeRender.emit(this),this.cameraController.UpdateAnimation(),this.renderPath.BeginRender()&&(this.renderPath.SelectViewport(this.viewport),this.renderPath.ShowRotationBall(this.showRotationBall),this.renderPath.Render(this.rootNode),this.renderPath.EndRender(),this.rendered.emit(this))}},{key:"getNodeItemsAtRay",value:function(e,t){return this.scene.GetNodeItemsAtRay(e,t)}},{key:"setCenter",value:function(e,t){var n="number"==typeof e?[e,t]:e;this.viewportAt=window.vec3.fromValues(n[0],n[1],0),this.updateViewMatrix(),this.centerChanged.emit(new i.c(this.viewportCenter[0],this.viewportCenter[1]))}},{key:"setCenterOffset",value:function(e,t){var n=window.vec2,r=window.vec3,o=window.quat,a=n.fromValues(e,t),u=n.scale(n.create(),a,this.rotationSensitivity),s=r.transformQuat(r.create(),r.fromValues(0,1,0),this.viewportQuat);r.normalize(s,s);var c=o.setAxisAngle(o.create(),s,u[0]);o.mul(this.viewportQuat,c,this.viewportQuat);var l=r.transformQuat(r.create(),r.fromValues(1,0,0),this.viewportQuat);r.normalize(l,l);var f=o.setAxisAngle(o.create(),l,u[1]);o.mul(this.viewportQuat,f,this.viewportQuat),this.updateViewMatrix(),this.centerChanged.emit(new i.c(e,t))}},{key:"setRectangle",value:function(e,t,n,r){this.viewport.SetRectangle([e,t,n,r]),this.updatePerspectiveMatrix(),this.resized.emit(new i.e(n,r))}},{key:"resize",value:function(e,t){this.viewport.SetRectangle([0,0,e,t]),this.scene.Resize(e,t),this.updatePerspectiveMatrix(),this.resized.emit(new i.e(e,t))}},{key:"setZoom",value:function(e){e=this.defZoom/e,this.viewportOffset=e,this.updateViewMatrix()}},{key:"getZoom",value:function(){return this.viewportOffset}},{key:"setFitFixedView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;if(n||(n=.8),null==e||null==t){var r=this.renderOptions.map((function(e){return e.layer})),i=this.rootNode.GetBoxForLayers(r);null==e&&(e=[i[0],i[1],i[2]]),null==t&&(t=[i[3],i[4],i[5]])}this.viewport.FitFixedView(e,t,n)}},{key:"zoomToFit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=.8;if(null==e||null==t){var i=this.getRenderLayers(),a=this.rootNode.GetBoxForLayers(i);null==e&&(e=[a[0],a[1],a[2]]),null==t&&(t=[a[3],a[4],a[5]])}if(1!=n){n/=this.getRelativeAspect(e,t);var u=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],s=(u[0]/n-u[0])/2,c=(u[1]/n-u[1])/2,l=(u[2]/n-u[2])/2;e=[e[0]-s,e[1]-c,e[2]-l],t=[t[0]+s,t[1]+c,t[2]+l]}this.fitFixedView_={boxMin:e,boxMax:t,fixedScale:r},this.viewport.FitFixedView(e,t,r),this.zoomToFitChanged.emit(new o.n(e,t))}},{key:"zoomToFitFixedView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=this.rootNode.GetBoxForLayers(this.getRenderLayers());null!=t&&null!=n||(null==t&&(t=[a[0],a[1],a[2]]),null==n&&(n=[a[3],a[4],a[5]]));var u=window.vec3.clone(t),s=window.vec3.clone(n),c=1!=i?i:.8;switch(this.fitFixedView_={boxMin:t,boxMax:n,fixedScale:c,view:e},e){case r.Back:var l=Math.max(Math.abs(s[2]),Math.abs(u[2]));u[2]=-l,s[2]=l,this.viewport.FitFixedView(u,s,c);var f=this.viewport.GetEye();f[2]=-f[2],this.viewport.ViewSetLookAt(f,this.viewport.GetAt(),this.viewport.GetUp()),this.viewport.SetDirty(!0);break;default:this.viewport.FitFixedView(u,s,c)}this.zoomToFitChanged.emit(new o.n(t,n))}},{key:"getRelativeAspect",value:function(e,t){var n=window.vec2,r=n.sub([0,0],t,e);n.scale(r,r,.5);var i=this.viewport.GetRectangle(),o=r[0]/r[1],a=i[2]/i[3],u=o>a?o/a*1.2:1;return u>2&&(u=1),u}},{key:"getRenderLayers",value:function(){var e={};return this.layers.forEach((function(t,n){return e[n]=t.show3d})),this.renderOptions.filter((function(t){return e[t.layer]})).map((function(e){return e.layer}))}},{key:"viewportToWorld",value:function(e){return this.viewport.Unproject(e)}},{key:"unproject",value:function(e){return this.viewport.Unproject(e)}},{key:"project",value:function(e){var t=this.viewport,n=window.vec4.fromValues(e[0],e[1],e[2],1),r=t.GetRectangle(),i=t.GetProjection(),o=t.GetView(),a=window.mat4.multiply([],i,o),u=r[2]/2,s=r[3]/2;return window.vec4.transformMat4(n,n,a),[u+u*(n[0]/n[3]),s-s*(n[1]/n[3])]}},{key:"getViewportQuat",value:function(){return this.viewportQuat}},{key:"getViewportAt",value:function(){return this.viewportAt}},{key:"getViewportOffset",value:function(){return this.viewportOffset}},{key:"setSelection",value:function(e){this.renderPath.SetSelection(e)}},{key:"viewportIntersectWithZ",value:function(e,t){var n=window.vec3,r=this.unproject(e),i=[0,0,1],o=[0,0,t],a=this.getEye(),u=n.normalize([],n.sub([],r,a)),s=n.dot(n.sub([],o,a),i)/n.dot(u,i);return n.scaleAndAdd([],a,u,s)}},{key:"updateViewMatrix",value:function(){var e=window.vec3,t=e.transformQuat([0,0,0],[0,0,1],this.viewportQuat);e.scale(t,t,this.viewportOffset);var n=this.viewportAt,r=e.transformQuat([0,0,0],[0,1,0],this.viewportQuat),i=e.sub([0,0,0],n,t);this.viewport.ViewSetLookAt(i,n,r)}},{key:"updatePerspectiveMatrix",value:function(){var e=o.m.ViewportFov*Math.PI/180,t=this.canvasWidth/this.canvasHeight;this.viewport.ProjectionSetPerspective(e,t,this.viewportNear,this.viewportFar),this.scene.Resize(this.canvasWidth,this.canvasHeight)}}])&&s(t.prototype,n),a&&s(t,a),Object.defineProperty(t,"prototype",{writable:!1}),f}(a.a)},3:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.componentType,e._g(e._b({tag:"component",staticClass:"afs-typography",class:[e.typeClass,e.textEllipsisClass]},"component",e.$attrs,!1),e.$listeners),[e._t("default",null,{getBEMClass:e.getBEMClass})],2)};r._withStripped=!0;var i=n(2),o=["large title","medium title","title","paragraph","single line","hint","tooltip","group","sticker","text"],a={name:"AfsText",props:{type:{type:String,default:"paragraph",validator:function(e){return o.includes(e)}},inline:{type:Boolean,default:!1},ellipsis:{type:Boolean,default:!1},tag:{type:String,default:""}},computed:{checkType:function(){return{isLargeTitle:"large title"===this.type,isMediumTitle:"medium title"===this.type,isTitle:"title"===this.type,isParagraph:"paragraph"===this.type,isSingleLine:"single line"===this.type,isHint:"hint"===this.type,isTooltip:"tooltip"===this.type,isGroup:"group"===this.type,isSticker:"sticker"===this.type,isText:"text"===this.type}},textEllipsisClass:function(){return{"afs-typography_ellipsis":this.checkType.isSingleLine||this.ellipsis}},typeClass:function(){var e=this.checkType,t="afs-typography_";return e.isLargeTitle?t+"large-title":e.isMediumTitle?t+"medium-title":e.isTitle?t+"title":e.isSingleLine?t+"single-line":e.isHint||e.isTooltip?t+"hint-tooltip":e.isGroup?t+"group":e.isSticker?t+"sticker":e.isText?t+"text":t+"paragraph"},componentType:function(){return this.tag?this.tag:this.inline?"span":"div"}},methods:{getBEMClass:function(e){return Object(i.a)("afs-typography",e)}}},u=(n(50),n(0)),s=Object(u.a)(a,r,[],!1,null,null,null);s.options.__file="WebUI/VueJsComponentLibrary/src/components/Text/App.vue";var c=s.exports;t.a=c},307:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s}));var u=i((function e(t,n,r,i){o(this,e),a(this,"grayscale",void 0),a(this,"grayscale_factor",void 0),a(this,"transparency",void 0),a(this,"transparency_factor",void 0),this.grayscale=t||!1,this.grayscale_factor=n||0,this.transparency=r||!1,this.transparency_factor=i||0})),s=function(){function e(t,n,r,i,s,c){o(this,e),a(this,"layer",void 0),a(this,"layerName",void 0),a(this,"filter",void 0),this.layer=t,this.layerName=n||"layer".concat(t),this.filter=new u(r,i,s,c)}return i(e,null,[{key:"createRenderOptions",value:function(t){return t.map((function(t){return new e(t.index,t.name)}))}}]),e}()},308:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.None=0]="None",e[e.Vertical=1]="Vertical",e[e.Horizontal=2]="Horizontal",e[e.DiagMain=3]="DiagMain",e[e.DiagSecond=4]="DiagSecond",e[e.Cross=5]="Cross",e[e.Last=6]="Last"}(r||(r={}))},31:function(e,t,n){},32:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function s(e){var t=h();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){var t="function"==typeof Map?new Map:void 0;return(f=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return d(e,arguments,y(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)})(e)}function d(e,t,n){return(d=h()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&p(i,n.prototype),i}).apply(null,arguments)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m;n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return S})),n.d(t,"b",(function(){return P})),function(e){e.ArgumentNull="ARGUMENT_NULL",e.FileDataDocumentLoad="FILE_DATA_DOCUMENT_LOAD",e.ScriptLoad="SCRIPT_LOAD",e.StoreExpired="STORAGE_EXPIRED",e.WebGLNotSupported="WEBGL_NOT_SUPPORTED",e.WebGLNotSupportedExtension="WEBGL_NOT_SUPPORTED_EXTENSION",e.ImportPCBError="IMPORT_PCB_ERROR"}(m||(m={}));var b='%{"title": "New visualization is available"}% %{"name": "Refresh Page", "eventName": "reloadPage", "link":"#"}%',g='WebGL is not supported by your browser. You can follow %{"name": "Troubleshooting Guide", "link": "https://www.altium.com/documentation/altium-designer/altium-365-viewers-troubleshooting-guide"}% to make it work',w=function(e){u(n,e);var t=s(n);function n(e,r){var o,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=arguments.length>3?arguments[3]:void 0;i(this,n),(o=t.call(this,e)).code=r,o.isManaged=a,v(l(o),"innerError",void 0);var s=n.define(u);return s&&(u=s),o}return a(n,null,[{key:"define",value:function(e){if(void 0!==e){if(e instanceof Error)return e;if("string"==typeof e||e instanceof String)return new Error(e);if(e&&e.stack&&e.message)return e}}}]),n}(f(Error)),O=function(e){u(n,e);var t=s(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return i(this,n),t.call(this,e,m.StoreExpired,!0)}return a(n)}(w),x=function(e){u(n,e);var t=s(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return i(this,n),t.call(this,e,m.WebGLNotSupported,!0)}return a(n)}(w),S=function(e){u(n,e);var t=s(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,o=arguments.length>1?arguments[1]:void 0;return i(this,n),v(l(e=t.call(this,r,m.WebGLNotSupportedExtension,!0)),"extensionsList",void 0),e.extensionsList=o,e}return a(n)}(w),P=function(e){u(n,e);var t=s(n);function n(e,r,o){var a;return i(this,n),v(l(a=t.call(this,e,m.ImportPCBError,!1)),"sendDetails",void 0),v(l(a),"dataSize",void 0),a.sendDetails=o,a.dataSize=r,a}return a(n)}(w)},33:function(e,t,n){},35:function(e,t,n){"use strict";t.a=function(e){return e instanceof Element}},36:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return c}));var r=function(e){var t=e.toString().split(".");return t[0].replace(/\B(?=(\d{3})+(?!\d))/g,",")+(2===t.length?"."+t[1]:"")},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.toString().split(".").length>1;return r(t&&n?e.toFixed(t):e)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"==typeof e){var r=t?(parseFloat(e)/.0254).toFixed(t):parseFloat(e)/.0254;return n?i(r):r}},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if("number"==typeof e)return t?(.0254*parseFloat(e)).toFixed(t):.0254*parseFloat(e)},u=function(e,t){return c(e/1e6,t)},s=function(e,t){return c(1e3*e,t)},c=function(e,t){return 0!==e?"".concat(e.toFixed(3)," ").concat(t):"".concat(e," ").concat(t)}},37:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return o}));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"listeners",void 0),i(this,"on",this.addListener),i(this,"off",this.removeListener),this.listeners={}}var t,n,o;return t=e,(n=[{key:"addListener",value:function(e,t){return e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t],this}},{key:"removeListener",value:function(e,t){if(e in this.listeners){var n=this.listeners[e].indexOf(t);n>-1&&this.listeners[e].splice(n,1)}return this}},{key:"removeAllListeners",value:function(e){delete this.listeners[e]}},{key:"once",value:function(e,t){var n=this;return this.addListener(e,(function r(){t.apply(void 0,arguments),n.removeListener(e,r)})),this}},{key:"prependListener",value:function(e,t){return e in this.listeners?this.listeners[e].unshift(t):this.listeners[e]=[t],this}},{key:"prependOnceListener",value:function(e,t){var n=this;return this.prependListener(e,(function r(){t.apply(void 0,arguments),n.removeListener(e,r)})),this}},{key:"eventNames",value:function(){return Object.getOwnPropertyNames(this.listeners)}},{key:"listenerCount",value:function(e){return e in this.listeners?this.listeners[e].length:0}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e in this.listeners&&(this.listeners[e].slice().forEach((function(e){return e.apply(void 0,n)})),!0)}}])&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},4:function(e,t,n){"use strict";t.a=function(e){return e.$data&&e.$data.afsConfig?e.$data.afsConfig:window.__APP__&&window.__APP__.afsConfig?window.__APP__.afsConfig:{}}},40:function(e,t){"path"in Event.prototype||Object.defineProperty(Event.prototype,"path",{get:function(){for(var e=[],t=this.target;t;)e.push(t),t=t.parentElement;return-1===e.indexOf(window)&&-1===e.indexOf(document)&&e.push(document),-1===e.indexOf(window)&&e.push(window),e}})},41:function(e,t,n){},42:function(e,t,n){"use strict";var r,i;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),function(e){e[e.Left=0]="Left",e[e.Wheel=1]="Wheel",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward"}(r||(r={})),function(e){e[e.None=0]="None",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.MiddleOrWheel=4]="MiddleOrWheel",e[e.Back=8]="Back",e[e.Forward=16]="Forward"}(i||(i={}))},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o}));var r,i,o,a=n(7),u=window.__CORE__,s=new Map([["PCBView","PcbEngine"],["GerberView","GerberEngine"]]),c=new Set([a.ObjectId.Arc,a.ObjectId.Pad,a.ObjectId.Via,a.ObjectId.Track,a.ObjectId.Poly,a.ObjectId.Region,a.ObjectId.Fill]);!function(e){e[e.None=0]="None",e[e.Cross=1]="Cross",e[e.Circle=2]="Circle",e[e.Box=3]="Box",e[e.Triangle=4]="Triangle",e[e.Wait=5]="Wait",e[e.Default=6]="Default"}(r||(r={})),function(e){e[e.Free=0]="Free",e[e.PointToPoint=1]="PointToPoint",e[e.ObjectToObject=2]="ObjectToObject"}(i||(i={})),function(e){e[e.mm=0]="mm",e[e.mil=1]="mil"}(o||(o={}))},46:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return u.a})),n.d(t,"e",(function(){return u.c})),n.d(t,"d",(function(){return u.b})),n.d(t,"f",(function(){return s.a})),n.d(t,"g",(function(){return c.a})),n.d(t,"i",(function(){return l.b})),n.d(t,"h",(function(){return l.a})),n.d(t,"j",(function(){return x})),n.d(t,"b",(function(){return S.a})),n.d(t,"k",(function(){return S.b})),n.d(t,"n",(function(){return h.b})),n.d(t,"l",(function(){return h.a})),n.d(t,"m",(function(){return P.a}));var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r(this,e),o(this,"controllers",void 0),this.controllers=null==t?[]:t}var t,n,a;return t=e,(n=[{key:"registerController",value:function(e){return this.controllers.push(e),this}},{key:"unregisterAll",value:function(){return this.controllers.length=0,this}},{key:"KeyDown",value:function(e){this.controllers.forEach((function(t){return t.KeyDown(e)}))}},{key:"KeyUp",value:function(e){this.controllers.forEach((function(t){return t.KeyUp(e)}))}},{key:"MouseDown",value:function(e,t,n){this.controllers.forEach((function(r){return r.MouseDown(e,t,n)}))}},{key:"MouseUp",value:function(e,t,n){this.controllers.forEach((function(r){return r.MouseUp(e,t,n)}))}},{key:"MouseMove",value:function(e,t){this.controllers.forEach((function(n){return n.MouseMove(e,t)}))}},{key:"MouseWheel",value:function(e){this.controllers.forEach((function(t){return t.MouseWheel(e)}))}},{key:"TouchStart",value:function(e){this.controllers.forEach((function(t){return t.TouchStart(e)}))}},{key:"TouchMove",value:function(e){this.controllers.forEach((function(t){return t.TouchMove(e)}))}},{key:"TouchEnd",value:function(e){this.controllers.forEach((function(t){return t.TouchEnd(e)}))}},{key:"SetOrbitingType",value:function(e){throw new Error("Method not implemented.")}},{key:"StartAnimationFocus",value:function(e){this.controllers.forEach((function(t){return t.StartAnimationFocus(e)}))}},{key:"StartAnimationOrigin",value:function(e){this.controllers.forEach((function(t){return t.StartAnimationOrigin(e)}))}},{key:"StartAnimationFit",value:function(e,t,n,r){this.controllers.forEach((function(i){return i.StartAnimationFit(e,t,n,r)}))}},{key:"UpdateAnimation",value:function(){this.controllers.forEach((function(e){return e.UpdateAnimation()}))}}])&&i(t.prototype,n),a&&i(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}(),u=n(221),s=n(244),c=n(245),l=n(307),f=n(51),d=n(52),h=n(131);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=m(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function m(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var i=O(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(o,e);var t,n,r,i=g(o);function o(e,t,n,r,a,u,s){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(c=i.call(this,e,t,n,r,a,u,s)).viewport||(c.viewport_=c.module.canvas?c.scene.AddViewport2D([0,0,c.canvasWidth,c.canvasHeight]):c.scene.AddViewport2D([0,0,300,300])),c.viewport.SetZoom(c.viewportZoom),c.renderPath=c.scene.CreateRenderPath2D(),c.renderPath.SetGridAutoZoom(!1),c.renderPath.EnableGrid(!1),c.logger.LogInfo("".concat(u?"Overlay":"Main"," 2D [").concat(c.id,"] scene successfully initialized.")),c}return t=o,(n=[{key:"parentScene",get:function(){return v(O(o.prototype),"parentScene",this)}},{key:"render",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&this.clear(),this.renderScene()}},{key:"renderScene",value:function(){this.beforeRender.emit(this),this.cameraController.UpdateAnimation(),this.renderPath.BeginRender()&&(this.renderPath.SelectViewport(this.viewport),this.renderPath.Render(this.rootNode,this.renderOptions),this.renderPath.EndRender(),this.rendered.emit(this))}},{key:"setOptions",value:function(e){this.renderPath.SetOptions(e)}},{key:"enableGrid",value:function(e){this.renderPath.EnableGrid(e)}},{key:"setGridAutoZoom",value:function(e){this.renderPath.SetGridAutoZoom(e)}},{key:"setGridSize",value:function(e){this.renderPath.SetGridSize(e)}},{key:"setGridSteps",value:function(e,t){this.renderPath.SetGridSteps(e,t)}},{key:"setGridColors",value:function(e,t,n){this.renderPath.SetGridColors(e,t,n)}},{key:"getNodeItemsAtPoint",value:function(e,t){if(0==t.length)return new Array;var n=[];if("number"==typeof t[0])n=t;else for(var r=t,i=0;i<r.length;i++){var o=this.layerMap.GetLayer(r[i].layer);!o||o.is_cutout||o.is_keepout||n.push(r[i].layer)}return this.rootNode.GetNodeItemsAtPoint(e,n)}},{key:"getCenter",value:function(){return this.viewport.GetCenter()}},{key:"setCenter",value:function(e,t){this.viewportCenter_="number"==typeof e?this.viewport.ViewportToWorld([e,t]):e,this.viewport.SetCenter(this.viewportCenter),this.centerChanged.emit(new f.c(this.viewportCenter[0],this.viewportCenter[1]))}},{key:"setCenterOffset",value:function(e,t){var n=this.viewport.GetRectangle(),r=[n[2],n[3]],i=r[0]/2+e,o=r[1]/2+t;this.viewportCenter_=this.viewport.ViewportToWorld([i,o]),this.viewport.SetCenter(this.viewportCenter),this.centerChanged.emit(new f.c(this.viewportCenter[0],this.viewportCenter[1]))}},{key:"flipped",get:function(){return this.viewport.GetFlipped()},set:function(e){this.viewport.GetFlipped()!=e&&(this.viewport.SetFlipped(e),this.viewport.SetDirty(!0))}},{key:"setZoom",value:function(e){e=this.defZoom/e,this.viewportZoom_=e,this.viewport.SetZoom(e)}},{key:"getZoom",value:function(){return this.viewport.GetZoom()}},{key:"pixelsToUnits",value:function(e){return 2*e*this.viewport.GetZoom()/this.viewport.GetRectangle()[3]}},{key:"snapToPixels",value:function(e){for(var t=this.viewport.WorldToViewport(e),n=0;n<t.length;n++)t[n]=Math.round(t[n])+.25;return this.viewport.ViewportToWorld(t)}},{key:"worldToViewport",value:function(e){return this.viewport.WorldToViewport(e)}},{key:"viewportToWorld",value:function(e){return this.viewport.ViewportToWorld(e)}},{key:"setFitFixedView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;if(n||(n=.8),null==e||null==t){var r=this.renderOptions.map((function(e){return e.layer})),i=this.rootNode.GetBoxForLayers(r);null==e&&(e=[i[0],i[1],i[2]]),null==t&&(t=[i[3],i[4],i[5]])}this.viewport.FitFixedView(e,t,n)}},{key:"zoomToFit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=n,o=window.vec2,a=this.renderOptions.filter((function(e){return e.layerName!==d.b.HighlightLayerName})).map((function(e){return e.layer})),u=a.length>0?a:this.layers.map((function(e){return e.index})),s=this.rootNode.GetBoxForLayers(u);null==e&&(e=[s[0],s[1],s[2]]),null==t&&(t=[s[3],s[4],s[5]]),e[1]===t[1]&&(t[1]+=this.pixelsToUnits(1)),this.minScaleLimit(s,e,t,r);var c=o.subtract([0,0],t,e);o.scale(c,c,.5),o.add(this.viewportCenter,e,c),this.viewportZoom_=c[1];var l=this.viewport.GetRectangle(),f=l[2]/l[3],p=c[0]/c[1];n=n>1||n<.1?1:2-n;var y=p>f?n*p/f:n;this.viewportZoom_*=y,this.fitFixedView_={boxMin:e,boxMax:t,fixedScale:i},this.viewport.FitFixedView(e,t,i),this.viewport.SetZoom(this.viewportZoom),this.zoomToFitChanged.emit(new h.b(e,t))}},{key:"setSelection",value:function(e){}},{key:"minScaleLimit",value:function(e,t,n,r){if(r){var i=window.vec2,o=[0,0];i.subtract(o,[e[3],e[4]],[e[0],e[1]]),i.scale(o,o,r);var a=i.subtract([0,0],n,t),u=i.divide([0,0],a,o);if(u[0]<1&&u[1]<1){var s=2*Math.min(u[0],u[1]),c=a[0]/s,l=a[1]/s;t[0]=t[0]-c,n[0]=n[0]+c,t[1]=t[1]-l,n[1]=n[1]+l}}}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(h.a),S=n(280),P=n(203)},48:function(e,t,n){"use strict";n(31)},5:function(e,t,n){"use strict";var r=n(27);t.a=r.a},50:function(e,t,n){"use strict";n(33)},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s.a})),n.d(t,"d",(function(){return c.a})),n.d(t,"e",(function(){return l.a}));var r=n(173);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=o((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"fillColor",void 0),a(this,"strokeColor",void 0),this.fillColor=t,this.strokeColor=n})),s=n(220),c=n(76),l=n(158)},52:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return f.a}));var o=function(){function e(t,n,r,o,a,u,s,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"name",void 0),i(this,"index",void 0),i(this,"is_keepout",void 0),i(this,"z_range",void 0),i(this,"is_barrel",void 0),i(this,"is_cutout",void 0),i(this,"is_inverted",void 0),i(this,"show3d",void 0),this.name=t,this.index=n,this.z_range=r||[0,0],this.is_cutout=o||!1,this.is_barrel=a||!1,this.is_keepout=u||!1,this.is_inverted=s||!1,this.show3d=c||!1}var t,n,o;return t=e,o=[{key:"createLayerArray",value:function(t){for(var n=[],r=0;r<t;r++)n.push(new e("level"+r,r));return n}}],(n=null)&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){function e(t,n,r,i,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.layerId=t,this.unisArray=n,this.arcsArray=r,this.polygonsArray=i,this.labelsArray=o,this.linesArray=a,u(this,"GetLayerIndex",(function(){return this.layerId})),u(this,"GetUnis",(function(){return this.unisArray||[]})),u(this,"GetArcs",(function(){return this.arcsArray||[]})),u(this,"GetPolygons",(function(){return this.polygonsArray||[]})),u(this,"GetLabels",(function(){return this.labelsArray||[]})),u(this,"GetLines",(function(){return this.linesArray||[]}))}var t,n,r;return t=e,(n=[{key:"GetUnisCount",value:function(){return this.unisArray?this.unisArray.length:0}},{key:"GetUni",value:function(e){return this.unisArray?this.unisArray[e]:null}},{key:"GetArcsCount",value:function(){return this.arcsArray?this.arcsArray.length:0}},{key:"GetArc",value:function(e){return this.arcsArray?this.arcsArray[e]:null}},{key:"GetPolysCount",value:function(){return this.polygonsArray?this.polygonsArray.length:0}},{key:"GetPoly",value:function(e){return this.polygonsArray?this.polygonsArray[e]:null}},{key:"GetLabelsCount",value:function(){return this.labelsArray?this.labelsArray.length:0}},{key:"GetLabel",value:function(e){return this.labelsArray?this.labelsArray[e]:null}},{key:"GetLinesCount",value:function(){return this.linesArray?this.linesArray.length:0}},{key:"GetLine",value:function(e){return this.linesArray?this.linesArray[e]:null}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=void 0,(r="layers")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.layers=t||[]}var t,n,r;return t=e,(n=[{key:"GetLayersCount",value:function(){return this.layers.length}},{key:"GetLayer",value:function(e){return this.GetLayersCount()>0?this.layers[e]:null}},{key:"SetLayer",value:function(e,t){this.layers[e]=t}},{key:"AddLayer",value:function(e){throw new Error("Method not implemented.")}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),f=n(242)},63:function(e,t,n){"use strict";n(41)},7:function(e,t,n){"use strict";n.r(t),n.d(t,"ColorHelper",(function(){return r.a})),n.d(t,"ColorScheme",(function(){return r.b})),n.d(t,"Point",(function(){return r.c})),n.d(t,"RenderMode",(function(){return r.d})),n.d(t,"Size",(function(){return r.e})),n.d(t,"Core",(function(){return i.a})),n.d(t,"PerformanceMonitor",(function(){return O})),n.d(t,"CanvasControl",(function(){return x})),n.d(t,"MouseButton",(function(){return S.a})),n.d(t,"MouseButtons",(function(){return S.b})),n.d(t,"AntiAliasingMethod",(function(){return _.b})),n.d(t,"AnimationType",(function(){return _.a})),n.d(t,"ObjectId",(function(){return _.e})),n.d(t,"Shape",(function(){return _.f})),n.d(t,"getObjectId",(function(){return _.g})),n.d(t,"getObjectIdName",(function(){return _.h})),n.d(t,"GraphiteResolver",(function(){return _.c})),n.d(t,"LibraryLoader",(function(){return _.d})),n.d(t,"Layer",(function(){return C.a})),n.d(t,"LayerGeometry",(function(){return C.c})),n.d(t,"LayerMap",(function(){return C.d})),n.d(t,"LayerConst",(function(){return C.b})),n.d(t,"HatchStyle",(function(){return M.a})),n.d(t,"Material",(function(){return M.b})),n.d(t,"MaterialManager",(function(){return M.c})),n.d(t,"MaterialMap",(function(){return M.d})),n.d(t,"LoadType",(function(){return g})),n.d(t,"PcbLoader",(function(){return D})),n.d(t,"Arc",(function(){return q.a})),n.d(t,"Label",(function(){return q.b})),n.d(t,"Line",(function(){return q.c})),n.d(t,"Uni",(function(){return q.g})),n.d(t,"Polygon",(function(){return q.d})),n.d(t,"PolygonInstance",(function(){return q.f})),n.d(t,"PolygonContour",(function(){return q.e})),n.d(t,"CameraGroupController",(function(){return R.a})),n.d(t,"Mesh",(function(){return R.c})),n.d(t,"MeshVertex",(function(){return R.e})),n.d(t,"MeshPart",(function(){return R.d})),n.d(t,"NodeContainer",(function(){return R.f})),n.d(t,"NodeItem",(function(){return R.g})),n.d(t,"RenderOptionFilter",(function(){return R.i})),n.d(t,"RenderOption",(function(){return R.h})),n.d(t,"Scene2D",(function(){return R.j})),n.d(t,"FixedView",(function(){return R.b})),n.d(t,"Scene3D",(function(){return R.k})),n.d(t,"ZoomToFitEventArgs",(function(){return R.n})),n.d(t,"SceneBase",(function(){return R.l})),n.d(t,"SceneOptions",(function(){return R.m})),n.d(t,"using",(function(){return P.b})),n.d(t,"TypedEvent",(function(){return P.a})),n.d(t,"PolygonFontData",(function(){return k.a})),n.d(t,"SymbolInfo",(function(){return k.f})),n.d(t,"PolygonFontLoader",(function(){return k.b})),n.d(t,"PolygonStringBuilder",(function(){return k.c})),n.d(t,"StringAlignment",(function(){return k.d})),n.d(t,"StringOptions",(function(){return k.e})),n.d(t,"TextBaseline",(function(){return k.g}));var r=n(51),i=n(80),o=n(230),a=n(37),u=n(100);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g,w=function(){function e(t){y(this,e),b(this,"canvas",void 0),b(this,"make",!1),this.canvas=this.initCanvas(t)}return m(e,[{key:"initCanvas",value:function(e){var t=this,n=e.canvas;return n.addEventListener("do-screenshot",(function(){t.make=!0,e.invalidate()})),n}},{key:"do",value:function(){if(this.make){this.make=!1;try{try{var e=this.canvas.toDataURL();this.canvas.dispatchEvent(new CustomEvent("did-screenshot",{detail:{data:e,error:null}}))}catch(e){this.canvas.dispatchEvent(new CustomEvent("did-screenshot",{detail:{data:null,error:e}}))}}catch(e){console.log("Dispatch [user_screenshot] event error. "+e.message)}}}}]),e}(),O=function(e){c(n,e);var t=f(n);function n(){var e;y(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return b(h(e=t.call.apply(t,[this].concat(i))),"fpsRequestId",-1),e}return m(n,[{key:"startFpsMeter",value:function(e){this.stopFpsMeter();var t=performance.now();this.requestAnimationFrame(t,t,0,0,e)}},{key:"stopFpsMeter",value:function(){window.cancelAnimationFrame(this.fpsRequestId),this.fpsRequestId=-1}},{key:"requestAnimationFrame",value:function(e,t,n,r,i){this.fpsRequestId=window.requestAnimationFrame(this.calculateFps.bind(this,e,t,n,r,i))}},{key:"calculateFps",value:function(e,t,n,r,i){var o=this,a=performance.now(),s=a-e;if(n+=s?Math.round(1e3/s):60,r++,a-t>i&&(t=a,r>0)){var c=Math.round(n/r);n=0,r=0,Object(u.a)((function(){return o.emit("aggregateFps",c)}))}this.requestAnimationFrame(a,t,n,r,i)}}]),n}(a.a),x=function(e){c(n,e);var t=f(n);function n(e,r,i){var a;return y(this,n),b(h(a=t.call(this)),"canvas",void 0),b(h(a),"resized",new o.a),b(h(a),"containerId",void 0),b(h(a),"peformanceMonitor",void 0),b(h(a),"documentFileSize",void 0),b(h(a),"invalidated",!1),b(h(a),"module",void 0),b(h(a),"requestId",-1),b(h(a),"renderBind",a.render.bind(h(a))),b(h(a),"backgroundColor",void 0),b(h(a),"screenshot",void 0),b(h(a),"logger",void 0),a.logger=window.__CORE__.createLogger("CanvasControl"),a.backgroundColor=i,"string"==typeof e||e instanceof HTMLDivElement?(a.canvas=document.createElement("canvas"),a.initControl(e)):a.canvas=e,a.canvas.style.position="absolute",a.initEvents(),a.module=r,a.module.canvas=a.canvas,a.screenshot=new w(h(a)),a.peformanceMonitor=new O,a}return m(n,[{key:"width",get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},{key:"height",get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}},{key:"setBackground",value:function(e){this.canvas.style.background=r.a.rgbaToHex(e)}},{key:"initControl",value:function(e){var t=e instanceof HTMLDivElement?e:document.getElementById(e);if(null==t)throw new Error("Parent with id ".concat(e," did not found at DOM."));var n=this.canvas;n.id=e+"_graphic_document_viewer_canvas",n.tabIndex=0,n.oncontextmenu=function(){return!1},n.style.opacity="1",t.appendChild(this.canvas)}},{key:"initEvents",value:function(){var e=this,t=this.canvas,n=t.parentElement;window.addEventListener("resize",(function(){0!==n.clientWidth&&0!==n.clientHeight?(t.width=n.clientWidth,t.height=n.clientHeight,e.resized.emit(e)):e.logger.LogDebug("Canvas control resize")}))}},{key:"invalidate",value:function(){this.emit("invalidate"),this.invalidated=!0,this.scheduleNextRender()}},{key:"render",value:function(){if(this.invalidated){var e=performance.now();this.onPaint(this.canvas),this.peformanceMonitor.emit("renderTime",performance.now()-e,this.documentFileSize),this.screenshot.do(),this.scheduleNextRender(),this.invalidated=this.needRender,this.needRender||window.cancelAnimationFrame(this.requestId)}else this.scheduleNextRender()}},{key:"scheduleNextRender",value:function(){window.cancelAnimationFrame(this.requestId),this.requestId=window.requestAnimationFrame(this.renderBind)}},{key:"onPaint",value:function(e){}},{key:"needRender",get:function(){return!1}}]),n}(a.a),S=n(42),P=n(92),_=n(99),R=n(46),M=n(102),C=n(52),k=n(135),j=n(139),E=n(32);function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.Json=0]="Json",e[e.Binary=1]="Binary",e[e.BinaryZip=2]="BinaryZip",e[e.SceneBinZipStream=3]="SceneBinZipStream",e[e.SceneBinZipFile=4]="SceneBinZipFile"}(g||(g={}));var D=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),A(this,"scene2d",void 0),A(this,"scene3d",void 0),A(this,"measurementScene3d",void 0),A(this,"isBuilt",!1),A(this,"renderOptions",void 0),A(this,"beforeLoad",new P.a),A(this,"afterLoad",new P.a),A(this,"module",void 0),A(this,"commonCore",void 0),A(this,"wasmScene",void 0),A(this,"importedPcbNode",void 0),A(this,"logger",j.a.createLogger("PcbLoader")),this.module=t.module,this.commonCore=t.commonCore,j.a.bus.registerEvent("PcbLoader:onLoad")}var t,n,i;return t=e,(n=[{key:"load",value:function(e,t){this.loadData(e,t),j.a.bus.emit("PcbLoader:onLoad",e,t)}},{key:"loadData",value:function(e,t){this.isBuilt&&(this.isBuilt=!1,this.scene2d.dispose(),this.wasmScene.delete()),this.importPcb(e,t)}},{key:"loadFont",value:function(e){e(!0)}},{key:"onBeforeLoad",value:function(){this.beforeLoad.emit(this)}},{key:"onAfterLoad",value:function(e){var t=this;this.loadFont((function(n,r){!n&&r&&(e.scene2d.polygonStringBuilder=new k.c(r,t.scene2d),e.measurementScene3d.polygonStringBuilder=new k.c(r,t.measurementScene3d))})),this.afterLoad.emit(e)}},{key:"importPcb",value:function(e,t){try{if(t===g.SceneBinZipFile||t===g.SceneBinZipStream)return void this.importPcbScene(e,t);this.onBeforeLoad(),this.wasmScene=this.module.CreateScene(this.commonCore,new M.d,new C.d);var n,r=this.wasmScene.GetRootNode();switch(t){case g.Json:n=this.module.ImportPcb(this.wasmScene,r,e);break;case g.Binary:n=this.module.ImportPcbBinMem(this.wasmScene,r,e);break;case g.BinaryZip:n=this.module.ImportPcbBinZipMem(this.wasmScene,r,e)}this.importedPcbNode=n.Node;var i=this.createLayers(n.LayerMap),o={scene2d:this.createScene2d(i.slice(),n.MaterialMap2D.Materials),scene3d:this.createScene3d(i.slice(),n.MaterialMap3D.Materials),measurementScene3d:this.createMeasurementScene3d(),renderOptions:this.renderOptions,grayscaleMaterialMap:this.createGrayscaleMaterialMap(n.MaterialMap2D)};this.onAfterLoad(o),this.isBuilt=!0}catch(t){throw new E.b("Error: Import PCB to scenes.\nDetail: "+t,null==e?void 0:e.byteLength,!0)}}},{key:"importPcbScene",value:function(e,t){if(t===g.SceneBinZipFile||t===g.SceneBinZipStream)try{this.onBeforeLoad();var n=t===g.SceneBinZipStream?this.module.ImportSceneBinZipStream(this.commonCore,e):this.module.ImportSceneBinZipFile(this.commonCore,e);this.wasmScene=n.scene,this.importedPcbNode=this.wasmScene.GetRootNode().GetChild(0);var r=this.createLayers(this.importedPcbNode.GetLayerMap()),i=n.materials[0].Materials,o=n.materials[1]?n.materials[1].Materials:[],a={Name:"2DMaterials",Materials:i,CustomData:""},u={scene2d:this.createScene2d(r.slice(),i),scene3d:this.createScene3d(r.slice(),o),measurementScene3d:this.createMeasurementScene3d(),renderOptions:this.renderOptions,grayscaleMaterialMap:this.createGrayscaleMaterialMap(a)};this.onAfterLoad(u),this.isBuilt=!0}catch(t){throw new E.b("Error: Import PCB to scenes.\nDetail: "+t,null==e?void 0:e.byteLength,!0)}else this.logger.LogWarn("Incorrect loadType: ".concat(t," for importPcbScene."))}},{key:"createScene2d",value:function(e,t){return this.scene2d=new R.j(this.wasmScene,e.slice(),void 0,void 0),this.scene2d.antialiasing=_.b.Temporal,this.scene2d.updateRootNode(this.importedPcbNode),this.scene2d.setMaterials(t),this.renderOptions=this.createRenderOptions2d(e),this.scene2d.renderOptions=this.renderOptions.slice(),this.scene2d.setRectangle(0,0,this.module.canvas.width,this.module.canvas.height),this.scene2d.setOptions({min_text_size:18}),this.emitEventScene("GraphiteEngine:createdScene2D",this.scene2d),this.scene2d}},{key:"createScene3d",value:function(e,t){return this.scene3d=new R.k(this.wasmScene,e),this.scene3d.antialiasing=_.b.Temporal,this.scene3d.updateRootNode(this.importedPcbNode),null!=t&&t.length&&this.scene3d.setMaterials(t),this.scene3d.renderOptions=this.createRenderOptions3d(e),this.scene3d.setRectangle(0,0,this.module.canvas.width,this.module.canvas.height),this.emitEventScene("GraphiteEngine:createdScene3D",this.scene3d),this.scene3d}},{key:"createMeasurementScene3d",value:function(){var e=[],t=new C.a("layer 0",0,[0,.5]);return t.show3d=!0,e.push(t),this.measurementScene3d=new R.k(void 0,e,void 0),this.measurementScene3d.antialiasing=_.b.Supesampling,this.measurementScene3d}},{key:"emitEventScene",value:function(e,t){j.a.bus.emit(e,t)}},{key:"createLayers",value:function(e){for(var t=e.GetLayersCount(),n=t+1,r=0;r<n;r++){var i=t+r,o=e.GetLayer(r);if(o){var a=r==n-1||o.show3d,u=new C.a(C.b.SelectionLayerName,i,o.z_range,o.is_cutout,o.is_barrel,o.is_keepout,o.is_inverted,a);e.AddLayer(u)}else{var s=new C.a(C.b.SelectionLayerName,i,[.5,1]);s.show3d=!0,e.AddLayer(s)}}for(var c=[],l=e.GetLayersCount()-1;l>=0;l--){var f=e.GetLayer(l),d=new C.a(f.name,l,f.z_range,f.is_cutout,f.is_barrel,f.is_keepout,f.is_inverted,f.show3d);c[l]=d}return c}},{key:"createRenderOptions2d",value:function(e){return this.createRenderOptionsDefault(e)}},{key:"createRenderOptions3d",value:function(e){return this.createRenderOptionsDefault(e)}},{key:"createRenderOptionsDefault",value:function(e){var t=[];if(Array.isArray(e))e.forEach((function(e){return t.push(new R.h(e.index,e.name))}));else for(var n=e.GetLayersCount()-1;n>=0;n--){var r=e.GetLayer(n);r.show3d&&t.push(new R.h(n,r.name))}return t}},{key:"createGrayscaleMaterialMap",value:function(e){var t=e.Materials.map((function(e){var t=r.a.toGrayscale(e.Diffuse);return new M.b(t,e.Hatching,e.Bordered,!1,!0)}));return{Name:e.Name,Materials:t,CustomData:""}}}])&&T(t.prototype,n),i&&T(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),I=n(76);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(){return(G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=F(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function F(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=U(e)););return e}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var i=U(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return H(this,n)}}function H(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return W(e)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(a,e);var t,n,r,o=V(a);function a(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"white";return B(this,a),$(W(n=o.call(this,e,t.module,r)),"pcbLoader",void 0),$(W(n),"_renderMode",I.a.Render2D),$(W(n),"lastId",0),$(W(n),"currentDocumentId",void 0),$(W(n),"renderer",null),n.pcbLoader=new D(t),n.onRendererChange=n.onRendererChange.bind(W(n)),n.onRendererFocus=n.onRendererFocus.bind(W(n)),n}return t=a,(n=[{key:"loadData",value:function(e,t,n,r){var o=this;return e.id||(this.lastId++,e.id="graphite_document_".concat(this.lastId)),e.id===this.currentDocumentId?Promise.resolve():new Promise((function(a,u){o.renderer&&(o.renderer.disable(),o.renderer.off("change",o.onRendererChange),o.renderer.off("focus",o.onRendererFocus)),o.renderer=null;var s=function(t){try{r||(r=[200,200,200]),(r=r.map((function(e){return e/255})))[3]=1,o.renderer=n,o.renderer.on("change",o.onRendererChange),o.renderer.on("focus",o.onRendererFocus),t.scene2d&&(t.scene2d.background=r),t.scene3d&&(t.scene3d.background=r),o.renderer.enable(t,o.canvas),o.canvas.focus(),o.invalidate(),i.a.bus.emit("GerberComparisonEngine:afterImportPCB",e),a()}catch(e){u(e)}};o.pcbLoader.afterLoad.on(s);try{o.pcbLoader.load(e.renderData,t)}finally{o.pcbLoader.afterLoad.off(s)}}))}},{key:"renderMode",get:function(){return this._renderMode},set:function(e){this._renderMode=e}},{key:"width",get:function(){var e,t;return null!==(e=null===(t=this.canvas)||void 0===t?void 0:t.width)&&void 0!==e?e:0}},{key:"height",get:function(){var e,t;return null!==(e=null===(t=this.canvas)||void 0===t?void 0:t.height)&&void 0!==e?e:0}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=G(U(a.prototype),"emit",this)).call.apply(t,[this,e].concat(r))}},{key:"onResize",value:function(){var e,t,n;0!==document.body.clientWidth&&0!==document.body.clientHeight&&(this.canvas.hidden=!0,this.canvas.width=(null===(e=document.getElementById(this.containerId))||void 0===e?void 0:e.clientWidth)||document.body.clientWidth,this.canvas.height=(null===(t=document.getElementById(this.containerId))||void 0===t?void 0:t.clientHeight)||document.body.clientHeight,this.canvas.hidden=!1,null===(n=this.renderer)||void 0===n||n.updateClientRectangle(this.width,this.height),this.invalidate(),this.emit("resized"))}},{key:"onPaint",value:function(){var e;null===(e=this.renderer)||void 0===e||e.render()}},{key:"initEvents",value:function(){var e=this;window.addEventListener("resize",(function(){return e.onResize()}))}},{key:"onRendererChange",value:function(){this.invalidate()}},{key:"onRendererFocus",value:function(){this.canvas.focus()}},{key:"initControl",value:function(e){var t,n;if(e instanceof HTMLDivElement?(n=e,t="aov365_graphite"):(n=document.getElementById(e),t=e),null==n)throw new Error("Parent with id ".concat(t," did not found at DOM."));var r=document.createElement("div");this.containerId=t+"_document_viewer",r.id=this.containerId,r.style.width="100%",r.style.height="100%",r.style.position="relative",r.style.backgroundColor=this.backgroundColor;var i=document.createElement("div");i.id=t+"_graphic_document_viewer",i.style.width="100%",i.style.height="100%",r.style.backgroundColor=this.backgroundColor;var o=this.canvas;o.id=t+"_graphic_document_viewer_canvas",o.tabIndex=0,o.style.backgroundColor=this.backgroundColor,o.oncontextmenu=function(){return!1},o.style.opacity="1",r.appendChild(this.canvas),n.appendChild(r)}}])&&N(t.prototype,n),r&&N(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(x),q=n(101),X=n(15);function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Q(this,"state",void 0),Q(this,"onLoaded",void 0),Q(this,"urls",["./js/thenBy.js","./js/gl-matrix.js"]),e.instance)return e.instance;this.state="IDLE",e.instance=this}var t,n,r;return t=e,(n=[{key:"load",value:function(){var e=this;switch(this.state){case"IDLE":return new Promise((function(t,n){e.state="LOADING",e.loadLibs().then((function(){e.state="LOADED",e.onLoaded?e.onLoaded(null):t()})).catch((function(t){e.state="ERROR",e.onLoaded?e.onLoaded(t):n(t)}))}));case"ERROR":return this.state="IDLE",this.load();case"LOADED":return Promise.resolve();case"LOADING":return new Promise((function(t,n){e.onLoaded=function(r){e.state=r?"ERROR":"LOADED",r?n(r):t()}}))}}},{key:"loadLibByUrl",value:function(e){return new Promise((function(t,n){var r=document.createElement("script");r.src=e,r.async=!0,r.onload=function(){console.info("Loaded library: ".concat(e)),t(e)},r.onerror=function(t){console.error("Error loading library: ".concat(e,". Details: ").concat(t)),n(t)},document.getElementsByTagName("body")[0].appendChild(r)}))}},{key:"loadLibs",value:function(){return Promise.all(this.urls.map(this.loadLibByUrl))}}])&&J(t.prototype,n),r&&J(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Q(Y,"instance",void 0);var K=n(157);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){te(o,r,i,a,u,"next",e)}function u(e){te(o,r,i,a,u,"throw",e)}a(void 0)}))}}function re(){return(re="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ie(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function ie(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ve(e)););return e}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t,n){return t&&ae(e.prototype,t),n&&ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function se(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ye(e,t)}function ce(e){var t=pe();return function(){var n,r=ve(e);if(t){var i=ve(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return le(this,n)}}function le(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fe(e)}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e){var t="function"==typeof Map?new Map:void 0;return(de=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return he(e,arguments,ve(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ye(r,e)})(e)}function he(e,t,n){return(he=pe()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ye(i,n.prototype),i}).apply(null,arguments)}function pe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=function(e){se(n,e);var t=ce(n);function n(e){var r;return oe(this,n),me(fe(r=t.call(this,e)),"type",void 0),r.type="CRASHED",r}return ue(n,[{key:"toString",value:function(){return this.message}}]),n}(de(Error)),ge={where:function(e){return["SETUP_COMPLETED"===e.type]},to:"SETUP_COMPLETED"},we={where:function(e){return["CRASHED"===e.type]},to:"CRASHED"},Oe={IDLE:[{where:function(e){return["SETUP"===e.type]},to:"SETUP"},we],SETUP:[ge,we],SETUP_COMPLETED:[{where:function(e){return["INIT"===e.type]},to:"INIT"},we],INIT:[{where:function(e){return["INIT_COMPLETED"===e.type]},to:"INIT_COMPLETED"},we],INIT_COMPLETED:[we],CRASHED:[ge]},xe=function(e){se(u,e);var t,n,r,i,o,a=ce(u);function u(){var e;return oe(this,u),me(fe(e=a.call(this,"IDLE",Oe)),"errorState",null),me(fe(e),"viewControl",void 0),me(fe(e),"name","Graphite.Engine"),me(fe(e),"comment",""),me(fe(e),"dependencies",[]),me(fe(e),"events",["GraphiteEngine:beforeGraphiteLoad","GraphiteEngine:afterGraphiteLoad","GraphiteEngine:beforeGraphiteInit","GraphiteEngine:afterGraphiteInit","GraphiteEngine:createdScene2D","GraphiteEngine:createdScene3D","GraphiteEngine:addedMaterial2d","GraphiteEngine:addedMaterial3d","GraphiteEngine:removedMaterial2d","GraphiteEngine:removedMaterial3d"]),e.gotoSetup=e.gotoSetup.bind(fe(e)),e.on("SETUP",e.gotoSetup),e.gotoInit=e.gotoInit.bind(fe(e)),e.on("INIT",e.gotoInit),e}return ue(u,[{key:"metaInfo",get:function(){return this}},{key:"dispatch",value:function(e){return re(ve(u.prototype),"dispatch",this).call(this,e)}},{key:"setup",value:(o=ne(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.gotoCompleteStep({type:"SETUP",core:t},"SETUP_COMPLETED");case 2:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"init",value:(i=ne(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.gotoCompleteStep({type:"INIT"},"INIT_COMPLETED");case 2:return e.abrupt("return",this.viewControl);case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"resolveGraphite",value:function(){return new Promise((function(e,t){(new K.a).on("COMPLETED",(function(t){e(t.payload.graphiteResolver)})).on("CRASHED",(function(e){return t(e)})).init()}))}},{key:"nextTick",value:function(){return new Promise((function(e){return setTimeout((function(){return e()}),0)}))}},{key:"doSetup",value:function(e){return Promise.resolve()}},{key:"doInit",value:(r=ne(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Y).load();case 2:return e.next=4,this.resolveGraphite();case 4:t=e.sent,(n=window.document.createElement("div")).style.display="none",window.document.body.appendChild(n),this.viewControl=new Z(n,t,"transparent");case 9:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"gotoSetup",value:(n=ne(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.nextTick();case 2:return e.prev=2,e.next=5,this.doSetup(t.core);case 5:this.dispatch({type:"SETUP_COMPLETED"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),this.dispatch(new be(e.t0.message));case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return n.apply(this,arguments)})},{key:"gotoInit",value:(t=ne(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.nextTick();case 2:return e.prev=2,e.next=5,this.doInit();case 5:this.dispatch({type:"INIT_COMPLETED"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),this.dispatch(new be(e.t0.message));case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(){return t.apply(this,arguments)})},{key:"gotoCompleteStep",value:function(e,t){var n=this;return new Promise((function(r,i){n.dispatch(e)||n.state===e.type?(n.on(t,(function(){r()})),n.on("CRASHED",(function(e){n.errorState=e,i(n.errorState)}))):"CRASHED"===n.state?i(n.errorState):r()}))}}]),u}(X.a),Se={type:"Engine",name:"GraphiteEngineModule",description:"Presents Graphite engine module",create:function(){return new xe}};window.__CORE__.addModule(Se)},76:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.Render2D=2]="Render2D",e[e.Render3D=3]="Render3D"}(r||(r={}))},8:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==n(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(i,o,function(t){return e[t]}.bind(null,o));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,n){"use strict";n.r(t),t.default=function(){return["","","-","-","-","-","","",""].reduce((function(e,t){return e+Math.floor(65536*(1+Math.random())).toString(16).substring(1)+t}))}}])},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=window.__CORE__},816:function(e,t,n){},817:function(e,t,n){},818:function(e,t,n){},819:function(e,t,n){},820:function(e,t,n){},9:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"i",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"j",(function(){return f})),n.d(t,"a",(function(){return d})),n.d(t,"l",(function(){return h})),n.d(t,"k",(function(){return p}));var r=function(e){return"string"==typeof e&&e.length},i=function(e){return"function"==typeof e},o=function(e){return"number"==typeof e},a={isRequired:function(e){return'"'.concat(e,'" is required')}},u={0:"mm",1:"mil"},s=function(e,t){var n={value:null};return window.__CORE__.tryGetAttributeValue(e,n)?n.value:t},c=function(e,t){return window.__CORE__.setAttributeValue(e,t)},l={1:"Arc",2:"Pad",3:"Via",4:"Track",6:"Fill",10:"Polygon",11:"Region"},f={sm:240,md:320},d={voltage:1,currentDensity:2},h={voltage:"V",currentDensity:"A/m^2"},p={voltage:"V",currentDensity:"A/mm^2"}},92:function(e,t,n){"use strict";function r(e,t){try{t(e)}finally{e.dispose()}}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i.a}));var i=n(230)},99:function(e,t,n){"use strict";n.d(t,"b",(function(){return r.b})),n.d(t,"a",(function(){return r.a})),n.d(t,"e",(function(){return r.c})),n.d(t,"f",(function(){return r.d})),n.d(t,"g",(function(){return r.e})),n.d(t,"h",(function(){return r.f})),n.d(t,"c",(function(){return i.a})),n.d(t,"d",(function(){return a}));var r=n(124),i=n(157);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=["./js/thenBy.js","./js/gl-matrix.js"],(n="urls")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n,r;return t=e,(n=[{key:"registerLib",value:function(e){this.urls.push(e)}},{key:"loadLibByUrl",value:function(e){return new Promise((function(t,n){var r=document.createElement("script");r.src=e,r.async=!0,r.onload=function(){console.info("Loaded library: ".concat(e)),t(e)},r.onerror=function(t){console.error("Error loading library: ".concat(e,". Details: ").concat(t)),n(t)},document.getElementsByTagName("body")[0].appendChild(r)}))}},{key:"loadLibs",value:function(){return Promise.all(this.urls.map(this.loadLibByUrl))}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()}});